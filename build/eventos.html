<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png" />
  <link rel="icon" type="image/png" href="./assets/img/favicon.png" />
  <title>Eventos - Clúster Intranet</title>
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Anton:wght@400&display=swap" rel="stylesheet" />
  <!-- Font Awesome Icons - Multiple sources for reliability -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.1/css/all.css" />
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous" defer></script>

  <!-- Tailwind CSS for layout -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Nucleo Icons -->
  <link href="./assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="./assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- GSAP Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <!-- Porsche-inspired Typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Popper -->
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <!-- Main Styling -->
  <link href="./assets/css/argon-dashboard-tailwind.css?v=1.0.1" rel="stylesheet" />
  <!-- Events specific CSS -->
  <link rel="stylesheet" href="./assets/css/eventos.css">

  <style>
    /* Porsche-inspired Design System */
    :root {
      /* Primary Colors - Inspired by Porsche */
      --porsche-black: #1a1a1a;
      --porsche-charcoal: #2d2d2d;
      --porsche-silver: #8a8a8a;
      --porsche-white: #ffffff;
      --porsche-light-gray: #f5f5f5;
      --porsche-accent: #c9302c;
      /* Clúster red for brand consistency */

      /* Typography */
      --porsche-font: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --porsche-font-weight-light: 300;
      --porsche-font-weight-regular: 400;
      --porsche-font-weight-medium: 500;
      --porsche-font-weight-semibold: 600;
      --porsche-font-weight-bold: 700;

      /* Spacing */
      --porsche-space-xs: 0.5rem;
      --porsche-space-sm: 1rem;
      --porsche-space-md: 1.5rem;
      --porsche-space-lg: 2rem;
      --porsche-space-xl: 3rem;

      /* Shadows */
      --porsche-shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.06);
      --porsche-shadow-medium: 0 4px 12px rgba(0, 0, 0, 0.08);
      --porsche-shadow-large: 0 8px 32px rgba(0, 0, 0, 0.12);

      /* Border Radius */
      --porsche-radius-sm: 4px;
      --porsche-radius-md: 8px;
      --porsche-radius-lg: 12px;
      --porsche-radius-xl: 16px;
    }

    /* Global Typography Enhancement */
    * {
      font-family: var(--porsche-font) !important;
    }

    body {
      font-weight: var(--porsche-font-weight-regular);
      line-height: 1.6;
      letter-spacing: -0.01em;
    }

    /* Global Typography Enhancement */
    * {
      font-family: var(--porsche-font) !important;
    }

    body {
      font-weight: var(--porsche-font-weight-regular);
      line-height: 1.6;
      letter-spacing: -0.01em;
    }

    /* Background Sections Styles */
    section {
      position: relative;
      width: 100%;
      background-color: var(--bg);
      overflow: hidden;
    }

    /* Text content styles for section3 */
    .text-content {
      margin-bottom: 6rem;
      position: relative;
    }

    .text {
      font-size: 1.3rem;
      font-family: 'Poppins', sans-serif;
      font-weight: 400;
      color: #ccc;
      line-height: 1.9;
      margin-bottom: 2.5rem;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    }

    section.section2 {
      height: min-content;
    }

    .loop-images {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .image-motion {
      width: 100%;
      height: 100%;
      border-radius: inherit;
      object-position: center;
      transform: rotatex(90deg);
      transform-origin: 50% 0;
    }

    .image-motion picture {
      display: block;
      width: 100%;
      height: 100%;
    }

    .image-motion picture img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      background-color: white;
    }

    .scroll-down {
      position: absolute;
      bottom: 5rem;
      left: 0;
      right: 0;
      color: #333;
      text-align: center;
      font-size: 1.25rem;
      font-weight: 600;
      z-index: 10;
    }

    .scroll-down .arrow {
      display: block;
      font-size: 2rem;
      margin-top: 1rem;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {

      0%,
      20%,
      50%,
      80%,
      100% {
        transform: translateY(0);
      }

      40% {
        transform: translateY(-10px);
      }

      60% {
        transform: translateY(-5px);
      }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .title {
      font-size: 3rem;
      font-weight: bold;
      text-align: center;
      color: white;
      margin-bottom: 1rem;
    }

    .subtitle {
      font-size: 1.25rem;
      text-align: center;
      color: #ccc;
      margin-bottom: 3rem;
    }

    section.section3 {
      padding: 4rem 0;
      min-height: 100vh;
    }

    /* Text Container Styles from empresas-convenio */
    .text-container {
      position: relative;
      font-family: 'Poppins', sans-serif;
      text-align: center;
      color: white;
    }

    .section {
      padding: 6rem 0;
    }

    .text {
      position: relative;
      overflow: hidden;
      margin: 0 auto;
      max-width: 600px;
    }

    .text--main {
      font-size: clamp(3rem, 8vw, 6rem);
      font-weight: 800;
      letter-spacing: -0.05em;
      line-height: 1.1;
    }

    .text-inner {
      position: relative;
      z-index: 1;
      background: linear-gradient(135deg, #ff6b6b, #ff8a80, #ffab40, #ff7043, #ff5722);
      background-size: 400% 400%;
      animation: gradientShift 4s ease-in-out infinite;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    @keyframes gradientShift {

      0%,
      100% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }
    }

    .portal {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 60%;
      background: linear-gradient(to bottom, transparent, #ff6b6b, transparent);
      animation: portalPulse 2s ease-in-out infinite;
    }

    .portal--from {
      left: -20px;
      animation-delay: 0s;
    }

    .portal--to {
      right: -20px;
      animation-delay: 1s;
    }

    @keyframes portalPulse {

      0%,
      100% {
        opacity: 0.3;
        transform: translateY(-50%) scaleY(0.8);
      }

      50% {
        opacity: 1;
        transform: translateY(-50%) scaleY(1.2);
      }
    }

    /* Porsche-inspired Navigation */
    .porsche-navbar {
      background: linear-gradient(135deg, var(--porsche-black) 0%, var(--porsche-charcoal) 100%);
      backdrop-filter: blur(10px);
      box-shadow: var(--porsche-shadow-medium);
    }

    .porsche-breadcrumb a {
      color: rgba(255, 255, 255, 0.7);
      transition: color 0.3s ease;
    }

    .porsche-breadcrumb a:hover {
      color: var(--porsche-accent);
    }

    .porsche-welcome {
      color: var(--porsche-white);
      font-weight: var(--porsche-font-weight-semibold);
    }

    /* Navigation System Variables */
    :root {
      --header-height: 70px;
      --bottom-nav-height: 80px;
      --claut-primary: #1a1a1a;
      --claut-primary-rgb: 26, 26, 26;
      --claut-secondary: #2d2d2d;
      --claut-accent: #c9302c;
      --claut-accent-rgb: 201, 48, 44;
      --claut-red: #dc2626;
      --claut-red-rgb: 220, 38, 38;
      --claut-surface: rgba(26, 26, 26, 0.95);
      --claut-bg-surface: rgba(26, 26, 26, 0.95);
      --claut-bg-secondary: rgba(45, 45, 45, 0.9);
      --claut-text-primary: #ffffff;
      --claut-text-secondary: rgba(255, 255, 255, 0.7);
      --claut-border-light: rgba(255, 255, 255, 0.1);
      --claut-border-medium: rgba(255, 255, 255, 0.15);
      --claut-shadow-red: 0 4px 12px rgba(var(--claut-red-rgb), 0.3);
      --transition-fast: all 0.2s cubic-bezier(0.23, 1, 0.32, 1);
      --transition-normal: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
      --space-1: 0.25rem;
      --space-2: 0.5rem;
      --space-3: 0.75rem;
      --space-4: 1rem;
      --space-6: 1.5rem;
      --space-8: 2rem;
      --space-12: 3rem;
    }

    /* Header Horizontal Premium con Men\u00fa Integrado */
    .claut-header {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      width: 100% !important;
      height: var(--header-height);
      background: var(--claut-bg-surface);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--claut-border-light);
      display: flex !important;
      align-items: center !important;
      justify-content: space-between !important;
      padding: 0 var(--space-6);
      z-index: 99999 !important;
      transition: var(--transition-normal);
      box-shadow:
        0 1px 3px rgba(0, 0, 0, 0.2),
        0 4px 12px rgba(0, 0, 0, 0.15),
        0 0 0 1px rgba(255, 255, 255, 0.05) inset;
      will-change: transform, backdrop-filter;
      transform: translateY(0px) !important;
      overflow: visible !important;
    }

    /* Header scroll effects */
    .claut-header.scrolled {
      background: rgba(26, 26, 26, 0.98) !important;
      box-shadow:
        0 2px 8px rgba(0, 0, 0, 0.4),
        0 8px 24px rgba(0, 0, 0, 0.25),
        0 0 0 1px rgba(255, 255, 255, 0.1) inset;
      backdrop-filter: blur(25px) !important;
      -webkit-backdrop-filter: blur(25px) !important;
      position: fixed !important;
      top: 0 !important;
    }

    /* Logo area - usando el logo existente del sidebar */
    .claut-header-logo {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      text-decoration: none;
      color: var(--claut-text-primary);
      font-weight: var(--apple-font-semibold);
      transition: all var(--transition-normal);
      padding: var(--space-2) var(--space-3);
      border-radius: var(--radius-md);
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      overflow: hidden;
    }

    .claut-header-logo:hover {
      color: var(--claut-red);
      background: rgba(var(--claut-red-rgb, 199, 37, 43), 0.08);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(var(--claut-red-rgb, 199, 37, 43), 0.15);
    }

    .claut-header-logo:hover img {
      transform: scale(1.05) rotate(2deg);
      filter: brightness(1.1);
    }

    .claut-header-logo img {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      transition: all var(--transition-normal);
      object-fit: cover;
    }

    /* Actions area */
    .claut-header-actions {
      display: flex !important;
      align-items: center !important;
      gap: var(--space-3);
      z-index: inherit;
      position: relative;
      height: 100%;
    }

    .claut-header-btn {
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--claut-border-light);
      border-radius: 10px;
      color: var(--claut-text-tertiary);
      cursor: pointer;
      transition: all var(--transition-fast);
      position: relative !important;
      z-index: inherit;
      overflow: visible !important;
    }

    .claut-header-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 1);
      transform: scale(1.05);
    }

    .claut-header-btn.active {
      background: var(--claut-red);
      color: var(--claut-text-primary);
      box-shadow: var(--claut-shadow-red);
    }

    /* Navegación horizontal principal */
    .claut-header-nav {
      display: none;
      flex: 1;
      justify-content: center;
      align-items: center;
      gap: var(--space-2);
      padding: 0 var(--space-6);
    }

    /* Navigation items - Header */
    .claut-nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      padding: var(--space-2) var(--space-3);
      text-decoration: none;
      color: var(--claut-text-tertiary);
      border-radius: 12px;
      transition: var(--transition-normal);
      position: relative;
      min-width: 60px;
      text-align: center;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .claut-nav-item i {
      font-size: 18px;
      margin-bottom: 2px;
      transition: var(--transition-fast);
    }

    .claut-nav-item span {
      font-size: 11px;
      font-weight: 600;
      line-height: 1;
      transition: var(--transition-fast);
      opacity: 0.9;
    }

    .claut-nav-item:hover {
      color: var(--claut-text-secondary);
      background: rgba(255, 255, 255, 0.05);
      transform: translateY(-2px);
    }

    .claut-nav-item:hover i {
      color: var(--claut-red);
      transform: scale(1.1);
    }

    .claut-nav-item.active {
      color: var(--claut-red);
      background: rgba(var(--claut-red-rgb), 0.1);
      box-shadow: var(--claut-shadow-red);
    }

    .claut-nav-item.active i {
      color: var(--claut-red);
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }

    .claut-nav-item.active span {
      color: white;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }

    /* Bottom Navigation - Solo m\u00f3vil y tablet */
    .claut-bottom-nav {
      position: fixed !important;
      bottom: 0 !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      width: 95% !important;
      max-width: 600px !important;
      height: 70px !important;
      background: var(--claut-bg-surface) !important;
      border-radius: 35px 35px 0 0 !important;
      border: 1px solid var(--claut-border-medium) !important;
      border-bottom: none !important;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3), 0 -8px 40px rgba(0, 0, 0, 0.2) !important;
      backdrop-filter: blur(20px) !important;
      -webkit-backdrop-filter: blur(20px) !important;
      margin: 0 !important;
      padding: 0 !important;
      display: none;
    }

    .claut-bottom-nav::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 100%;
      background: linear-gradient(180deg, var(--claut-bg-surface) 0%, var(--claut-bg-secondary) 100%);
      opacity: 0.8;
      z-index: -1;
    }

    .claut-nav-container {
      position: relative !important;
      width: 100% !important;
      height: 100% !important;
      display: flex !important;
      align-items: center !important;
      justify-content: space-evenly !important;
      padding: 0 8px !important;
      box-sizing: border-box !important;
      overflow-x: auto !important;
      scrollbar-width: none !important;
      -ms-overflow-style: none !important;
    }

    .claut-nav-container::-webkit-scrollbar {
      display: none !important;
    }

    /* Curva decorativa */
    .claut-nav-curve {
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 40px;
      background: var(--claut-bg-surface);
      border-radius: 50px 50px 0 0;
      border: 1px solid var(--claut-border-light);
      border-bottom: none;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }

    .claut-nav-curve::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 8px;
      height: 8px;
      background: var(--claut-red);
      border-radius: 50%;
      box-shadow: 0 0 12px var(--claut-red);
    }

    /* Navigation links - Bottom */
    .claut-nav-link {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      padding: var(--space-2) var(--space-3);
      color: var(--claut-text-secondary);
      text-decoration: none;
      border-radius: 12px;
      transition: var(--transition-fast);
      font-size: 0.75rem;
      font-weight: 500;
      min-width: 44px;
      min-height: 44px;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .claut-nav-link::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      transition: transform 0.2s ease;
      z-index: -1;
    }

    .claut-nav-link:active::before {
      transform: translate(-50%, -50%) scale(1);
    }

    .claut-nav-link i {
      font-size: 1.25rem;
      transition: var(--transition-fast);
    }

    .claut-nav-link span {
      font-size: 0.6rem;
      font-weight: 600;
      text-align: center;
      line-height: 1;
      letter-spacing: -0.01em;
    }

    .claut-nav-link:hover {
      color: var(--claut-text-primary);
      background: rgba(255, 255, 255, 0.08);
      transform: translateY(-2px);
    }

    .claut-nav-link.active {
      color: var(--claut-text-primary);
      background: linear-gradient(135deg, var(--claut-red), #ef4444);
      box-shadow: var(--claut-shadow-red);
    }

    .claut-nav-link.active i {
      transform: scale(1.1);
    }

    /* Responsive navigation */
    @media (min-width: 768px) {
      .claut-header-nav {
        display: flex;
      }
    }

    @media (max-width: 767px) {
      .claut-mobile-menu-btn {
        display: flex !important;
      }

      .claut-header-nav {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--claut-bg-surface);
        backdrop-filter: blur(20px);
        border-radius: 0 0 var(--radius-lg) var(--radius-lg);
        padding: var(--space-4);
        transform: translateY(-100%);
        opacity: 0;
        visibility: hidden;
        transition: all var(--transition-normal);
      }

      .claut-header-nav.show {
        transform: translateY(0);
        opacity: 1;
        visibility: visible;
      }
    }

    /* Control de visibilidad entre header y bottom nav */
    @media (max-width: 1024px) {
      .claut-header-nav {
        display: none !important;
      }

      .claut-bottom-nav {
        display: flex !important;
      }

      /* Mantener los botones de acción del header visibles */
      .claut-header-actions {
        display: flex !important;
      }

      /* Ajustar el header para que sea más compacto en mobile */
      .claut-header {
        padding: 0 var(--space-4) !important;
      }
    }

    @media (min-width: 1025px) {
      .claut-header-nav {
        display: flex !important;
      }

      .claut-bottom-nav {
        display: none !important;
      }

      .claut-header-actions {
        display: flex !important;
      }
    }

    /* Bottom navigation responsive design */
    @media (max-width: 480px) {
      .claut-bottom-nav {
        width: 95%;
        height: 65px;
      }

      .claut-nav-link {
        width: 55px;
        height: 55px;
      }

      .claut-nav-link i {
        font-size: 20px;
      }
    }

    /* Ajuste para el contenido principal para evitar superposición con el menú inferior */
    .main-content {
      padding-bottom: 90px;
    }

    /* Navigation touch optimization for mobile */
    @media (max-width: 768px) {
      .claut-nav-link {
        padding: var(--space-2);
        min-width: 48px;
        min-height: 48px;
      }

      .claut-nav-link i {
        font-size: 1.1rem;
      }

      .claut-nav-link span {
        font-size: 0.6rem;
      }

      .claut-nav-container {
        padding: 0 var(--space-2);
      }
    }

    /* Old Porsche Sidebar - REMOVED

    .porsche-sidebar.sidenav-show,
    .porsche-sidebar[aria-expanded="true"] {
      transform: translateX(0);
    }

    /* Desktop sidebar */
    @media (min-width: 1280px) {
      .porsche-sidebar {
        transform: translateX(0);
        position: fixed;
      }
    }

    .porsche-nav-item {
      color: rgba(255, 255, 255, 0.8);
      border-radius: var(--porsche-radius-md);
      margin: 0.25rem 0.5rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .porsche-nav-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .porsche-nav-item:hover::before {
      left: 100%;
    }

    .porsche-nav-item:hover,
    .porsche-nav-item.active {
      color: var(--porsche-white);
      background: rgba(255, 255, 255, 0.1);
      transform: translateX(4px);
    }

    .porsche-nav-item.active {
      background: linear-gradient(135deg, var(--porsche-accent), rgba(201, 48, 44, 0.8));
      box-shadow: 0 4px 12px rgba(201, 48, 44, 0.3);
    }

    .porsche-logo span {
      background: linear-gradient(135deg, var(--porsche-white), var(--porsche-silver));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Mobile Navigation */
    .sidenav-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .sidenav-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    /* Main content area styling for new navigation system */
    .claut-main {
      margin-left: 0;
      transition: all 0.3s ease;
      min-height: 100vh;
      padding-top: 6rem;
      /* Space for header navigation */
      padding-bottom: 6rem;
      /* Space for bottom navigation on mobile */
    }

    @media (min-width: 1025px) {
      .claut-main {
        padding-top: 6rem;
        /* Header navigation space */
        padding-bottom: 2rem;
        /* Normal bottom padding for desktop */
      }
    }

    @media (max-width: 1024px) {
      .claut-main {
        padding-top: 2rem;
        /* Less top padding on mobile */
        padding-bottom: 8rem;
        /* More bottom space for curved bottom nav */
      }
    }

    /* Events specific styles integration */
    .events-container {
      width: 100%;
      margin: 0;
      min-height: calc(100vh - 200px);
    }

    /* Override default navbar styles for events page */
    .apple-user-info {
      display: none !important;
    }

    #messageCenterButton {
      display: none !important;
    }

    /* Ensure FontAwesome icons display correctly */
    .fas,
    .far,
    .fab,
    .fal,
    .fad,
    .fa {
      font-family: "Font Awesome 6 Free", "Font Awesome 6 Pro", "Font Awesome 6 Brands" !important;
      font-weight: 900;
      text-rendering: auto;
      -webkit-font-smoothing: antialiased;
    }

    /* Fix specific icon display issues */
    i[class*="fa-"]:before {
      font-family: "Font Awesome 6 Free" !important;
      font-weight: 900;
    }

    /* Ensure sidebar icons are visible */
    .porsche-nav-item i {
      display: inline-block;
      width: 1em;
      height: 1em;
      text-align: center;
    }

    /* AUTENTICACIÓN Y MENÚ - Copiado exacto de dashboard.html */
    /* Forzar elementos del menú siempre accesibles */
    .porsche-nav-item a,
    a[href],
    .nav-link {
      opacity: 1 !important;
      pointer-events: auto !important;
      cursor: pointer !important;
      color: inherit !important;
    }

    /* Asegurar visibilidad del sidebar */
    aside,
    .sidebar,
    nav {
      display: block !important;
      opacity: 1 !important;
    }

    /* Ocultar íconos de candado solamente */
    .menu-icon,
    .fa-lock,
    .restricted-icon {
      display: none !important;
    }

    /* Mostrar elementos de usuario autenticado */
    .auth-user-info,
    .user-menu {
      display: block !important;
      opacity: 1 !important;
    }



    /* FontAwesome fixes */
    .fa,
    .fas,
    .far,
    .fal,
    .fab {
      font-family: "Font Awesome 6 Free", "Font Awesome 6 Pro", "FontAwesome" !important;
      font-weight: 900 !important;
      font-style: normal !important;
      display: inline-block !important;
      text-rendering: auto !important;
      -webkit-font-smoothing: antialiased !important;
    }

    /* Fallback for specific icons */
    .fa-home::before {
      content: "\f015" !important;
    }

    .fa-calendar-alt::before {
      content: "\f073" !important;
    }

    .fa-file-alt::before {
      content: "\f15c" !important;
    }

    .fa-newspaper::before {
      content: "\f1ea" !important;
    }

    .fa-users::before {
      content: "\f0c0" !important;
    }

    .fa-headset::before {
      content: "\f590" !important;
    }

    .fa-handshake::before {
      content: "\f2b5" !important;
    }

    .fa-tags::before {
      content: "\f02c" !important;
    }

    .fa-user::before {
      content: "\f007" !important;
    }

    .fa-sign-out-alt::before {
      content: "\f2f5" !important;
    }

    /* Porsche-inspired Navbar */
    .porsche-navbar {
      background: rgba(26, 26, 26, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: var(--porsche-space-sm) var(--porsche-space-lg);
      border-radius: var(--porsche-radius-lg);
      margin: var(--porsche-space-sm);
    }

    .porsche-breadcrumb {
      font-size: 0.75rem;
      font-weight: var(--porsche-font-weight-medium);
      color: rgba(255, 255, 255, 0.7);
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .porsche-breadcrumb a {
      color: rgba(255, 255, 255, 0.5);
    }

    .porsche-breadcrumb a:hover {
      opacity: 1;
    }

    /* Navbar content styling */
    .porsche-navbar .apple-user-info {
      color: var(--porsche-white);
    }

    .porsche-navbar .apple-nav-link {
      color: rgba(255, 255, 255, 0.8);
    }

    .porsche-navbar .apple-nav-link:hover {
      color: var(--porsche-white);
    }

    /* STICKY STACKING CARDS EFFECT - Optimizado para Eventos */

    /* New Event Cards System - Motion.dev based */
    :root {
      --card-height: 40vw;
      --card-margin: 4vw;
      --card-top-offset: 1em;
      --numcards: 5;
      /* Will be set dynamically */
      --outline-width: 0px;
    }

    .events-scroll-container {
      width: 90vw;
      max-width: 80rem;
      margin: 0 auto;
    }

    /* Portal Design CSS Properties */
    @property --progress-scroll {
      syntax: "<number>";
      inherits: true;
      initial-value: 0;
    }

    /* Portal Animation Body - Simplified */
    body {
      overflow-x: hidden;
      /* Prevenir scroll horizontal global */
    }

    header .container {
      border-radius: 15px;
    }

    /* Portal Container Styling */
    .section {
      width: 100%;
      height: 40vh;
      z-index: 10;
      margin-top: 80px;
      overflow: hidden;
      /* Prevenir scroll horizontal */
    }

    .container {
      position: relative;
      max-width: 100%;
      overflow: hidden;
      /* Prevenir scroll horizontal */
    }

    .text-container {
      position: absolute;
      width: 100%;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 15;
      padding: 0 2rem;
      box-sizing: border-box;
    }

    /* Portal Elements with Clúster Colors */
    .portal {
      width: 3px;
      height: clamp(150px, 25vh, 400px);
      flex-shrink: 0;
    }

    .portal--from {
      border-left: 3px solid var(--porsche-accent);
    }

    .portal--to {
      border-right: 3px solid var(--porsche-charcoal);
    }

    /* Portal Text Styling with Animation */
    .text {
      --font-size: 6rem;
      position: relative;
      font-size: var(--font-size);
      text-transform: uppercase;
      font-family: "Anton", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 400;
      text-align: center;
      background: linear-gradient(135deg,
          var(--porsche-accent) 0%,
          #e53e3e 25%,
          var(--porsche-charcoal) 50%,
          var(--porsche-accent) 75%,
          #2d2d2d 100%);
      background-size: 300% 300%;
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: crimson;
      animation: gradientShift 4s ease-in-out infinite;
      z-index: 20;
      flex: 1;
      margin: 0 1rem;
    }

    .text--main {
      opacity: 0;
      transform: scale(0.8);
      animation: textAppear 1.5s ease-out forwards;
      animation-delay: 1.2s;
    }

    .text-inner {
      display: block;
      width: 100%;
      white-space: nowrap;
      overflow: visible;
    }

    /* Animación del texto principal */
    @keyframes textAppear {
      0% {
        opacity: 0;
        transform: scale(0.8);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Maintain existing gradient animation */
    @keyframes gradientShift {

      0%,
      100% {
        background-position: 0% 50%;
      }

      25% {
        background-position: 100% 0%;
      }

      50% {
        background-position: 100% 100%;
      }

      75% {
        background-position: 0% 100%;
      }
    }

    /* Portal Animation Effects */
    .portal {
      position: relative;
      opacity: 0;
      animation: portalAppear 1s ease-out forwards;
    }

    .portal--from {
      animation-delay: 0.2s;
    }

    .portal--to {
      animation-delay: 0.8s;
    }

    .portal::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      width: 4px;
      height: 0%;
      background: linear-gradient(to bottom,
          transparent 0%,
          currentColor 50%,
          transparent 100%);
      transform: translateX(-50%);
      animation: portalGrow 1.5s ease-out forwards;
      animation-delay: inherit;
    }

    .portal--from::before {
      background: linear-gradient(to bottom,
          transparent 0%,
          var(--porsche-accent) 50%,
          transparent 100%);
      box-shadow: 0 0 10px var(--porsche-accent);
    }

    .portal--to::before {
      background: linear-gradient(to bottom,
          transparent 0%,
          var(--porsche-charcoal) 50%,
          transparent 100%);
      box-shadow: 0 0 10px var(--porsche-charcoal);
    }

    @keyframes portalAppear {
      0% {
        opacity: 0;
        transform: scaleY(0);
      }

      100% {
        opacity: 1;
        transform: scaleY(1);
      }
    }

    @keyframes portalGrow {
      0% {
        height: 0%;
        opacity: 0;
      }

      100% {
        height: 100%;
        opacity: 1;
      }
    }


    #event-cards {
      list-style: none;
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: repeat(var(--numcards), var(--card-height));
      gap: var(--card-margin);
      outline: calc(var(--outline-width) * 10) solid blue;
      padding-bottom: calc(var(--numcards) * var(--card-top-offset));
      margin-bottom: var(--card-margin);
      width: 100%;
      max-width: 100%;
      padding-left: 0;
      padding-right: 0;
    }

    .event-card {
      position: sticky;
      top: 0;
      padding-top: var(--card-top-offset);
      transform-origin: 50% 0%;
      will-change: transform;
      outline: var(--outline-width) solid hotpink;
      z-index: 1;
      /* Base z-index, will be overridden by JavaScript */
      width: 80%;
      max-width: 100%;
      border: 1px solid rgba(255, 0, 0, 0);
      background: rgba(255, 0, 0, 0);
      border-radius: 30px;
    }

    .event-card__content {
      position: relative;
      min-height: 23.5rem;
      margin: 0 auto;
      border-radius: 2.25rem;
      box-shadow: 0.063em 0.75em 1.563em rgb(0 0 0 / 78%);
      background: radial-gradient(ellipse at right top, var(--card-accent-color) 0%, #151419 47%, #151419 100%);
      color: #fff;
      overflow: hidden;
      transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
    }

    /* Estilos mejorados para el efecto de apilamiento en scroll */
    .event-card {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      z-index: 1;
    }

    .event-card.stacked {
      transform: scale(0.95) translateY(-10px) !important;
      opacity: 0.8;
      z-index: 10;
    }

    .event-card.stacked .event-card__content {
      box-shadow: 0.063em 0.5em 1em rgb(0 0 0 / 50%);
    }

    /* Efecto escalonado para múltiples tarjetas */
    .event-card:nth-child(n+2).stacked {
      transform: scale(0.9) translateY(-20px) !important;
      opacity: 0.6;
      z-index: 9;
    }

    .event-card:nth-child(n+3).stacked {
      transform: scale(0.85) translateY(-30px) !important;
      opacity: 0.4;
      z-index: 8;
    }

    .event-card__content::before {
      position: absolute;
      content: "";
      top: 0;
      width: 100%;
      height: 100%;
      border-radius: 2.25rem;
      z-index: -1;
      border: 0.155rem solid transparent;
      background: linear-gradient(45deg, #232228, #232228, #232228, #232228, var(--card-accent-color)) border-box;
      -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: destination-out;
      mask-composite: exclude;
    }

    .event-card:hover .event-card__content {
      transform: translateY(-0.5rem);
      box-shadow: 0 1em 2em rgba(199, 37, 43, 0.2), 0 2em 4em rgba(199, 37, 43, 0.1);
    }

    /* Card Header */
    .event-card__header {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.8em 0.5em 0em 1.5em;
      z-index: 2;
    }

    .event-card__date {
      color: #ddd;
      font-size: 0.9rem;
    }

    .event-card__menu {
      color: #fff;
      width: 2.5rem;
      cursor: pointer;
      background: none;
      border: none;
    }

    /* Card Body */
    .event-card__body {
      position: absolute;
      width: 100%;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 1em 2em 0.8em 2em;
      text-align: left;
    }

    /* Image styles removed - new design doesn't use images */

    .event-card__title {
      color: #fff;
      font-size: 1.6rem;
      margin-top: 0.625em;
      margin-bottom: 0.3em;
      text-transform: capitalize;
      font-weight: 600;
      line-height: 1.3;
    }

    .event-card__description {
      color: #ddd;
      font-size: 1.1rem;
      letter-spacing: 0.031rem;
      margin-bottom: 1.2rem;
      line-height: 1.5;
    }

    /* Progress Bar */
    .event-card__progress {
      margin-top: 0.938rem;
    }

    .event-card__progress-label {
      color: #fff;
      text-align: left;
      font-weight: 600;
      width: 100%;
      display: block;
      margin-bottom: 0.313rem;
      font-size: 1rem;
    }

    .event-card__progress-bar {
      position: relative;
      width: 100%;
      background: #363636;
      height: 0.313rem;
      display: block;
      border-radius: 3.125rem;
      margin-bottom: 0.313rem;
    }

    .event-card__progress-bar::after {
      position: absolute;
      content: "";
      top: 0;
      left: 0;
      height: 100%;
      display: block;
      border-radius: 3.125rem;
      background: var(--card-accent-color);
      width: var(--progress-width);
    }

    .event-card__progress-text {
      text-align: right;
      display: block;
      color: #fff;
      font-size: 1rem;
    }

    .meta-item__info {
      display: grid;
      gap: 0.2rem;
    }

    .meta-item__primary {
      font-weight: 600;
      color: var(--porsche-charcoal);
    }

    .meta-item__secondary {
      font-size: 0.8rem;
      color: #64748b;
    }

    /* Card Footer */
    .event-card__footer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      width: 100%;
      border-top: 0.063rem solid #292929;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1em 2em 0.8em 2em;
      background: #151419;
      border-bottom-left-radius: 2.25rem;
      border-bottom-right-radius: 2.25rem;
    }

    .event-card__avatars {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .event-card__avatars ul {
      display: flex;
      align-items: center;
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .event-card__avatars li {
      margin-right: -0.625rem;
    }

    .event-card__avatars img {
      border-radius: 50%;
      width: 1.875rem;
      height: 1.875rem;
      object-fit: cover;
    }

    .btn-add {
      width: 1.375rem;
      height: 1.375rem;
      border-radius: 50%;
      background: var(--card-accent-color);
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      text-decoration: none;
      border: none;
      cursor: pointer;
    }

    .btn-add svg {
      width: 1rem;
      height: 1rem;
    }

    .btn-countdown {
      background: #222127;
      color: #fff;
      border-radius: 2em;
      padding: 0.625rem 1.5rem;
      text-decoration: none;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      cursor: pointer;
      border: none;
    }

    .btn-countdown:hover {
      background: var(--card-accent-color);
    }

    /* Color Variants */
    .event-card--green {
      --card-accent-color: #01c3a8;
    }

    .event-card--blue {
      --card-accent-color: #1890ff;
    }

    .event-card--orange {
      --card-accent-color: #ffb741;
    }

    .event-card--red {
      --card-accent-color: #a63d2a;
    }

    .event-card--porsche {
      --card-accent-color: #c9302c;
    }

    .btn--secondary {
      background: transparent;
      color: var(--porsche-charcoal);
      border: 2px solid #e2e8f0;
    }

    .btn--secondary:hover {
      border-color: var(--porsche-accent);
      color: var(--porsche-accent);
      background: rgba(199, 37, 43, 0.05);
    }

    /* Badges on image */
    .event-card__badges {
      position: absolute;
      top: 1rem;
      left: 1rem;
      right: 1rem;
      display: flex;
      justify-content: space-between;
      pointer-events: none;
      z-index: 10;
    }

    .event-card__badge {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      color: var(--porsche-charcoal);
      padding: 0.5rem 1rem;
      border-radius: 2rem;
      font-size: 0.85rem;
      font-weight: 600;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .event-card__badge--price {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
    }

    .event-card__badge--status {
      background: linear-gradient(135deg, #3b82f6, #1d4ed8);
      color: white;
    }

    /* Responsive Design */
    @media screen and (max-width: 768px) {
      :root {
        --card-height: 60vw;
        --card-margin: 6vw;
      }

      .events-scroll-container {
        width: 95vw;
      }

      .events-title {
        font-size: 2.5rem;
        height: 60vh;
      }

      .event-card__content {
        grid-template-areas:
          "img"
          "text";
        grid-template-columns: 1fr;
        grid-template-rows: 200px 1fr;
      }

      .event-card__text {
        width: 90%;
        padding: 1.5rem;
      }

      .event-card__title {
        font-size: 1.8rem;
      }

      .event-card__meta {
        grid-template-columns: 1fr;
        gap: 0.75rem;
      }

      .event-card__actions {
        grid-template-columns: 1fr;
      }
    }

    @media screen and (min-width: 769px) {
      :root {
        --card-height: 35vw;
        --card-margin: 3vw;
      }
    }

    @media screen and (min-width: 1200px) {
      :root {
        --card-height: 400px;
        --card-margin: 40px;
      }

      .events-scroll-container {
        width: 85vw;
        max-width: 90rem;
      }

      .event-card__title {
        font-size: 3rem;
      }
    }

    /* Line clamp utilities */
    .line-clamp-1 {
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
    }

    .line-clamp-2 {
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }

    .line-clamp-3 {
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
    }

    /* User Dropdown z-index fix */
    #userDropdown {
      z-index: 99999 !important;
      position: absolute !important;
    }

    /* Ensure the dropdown parent has high z-index */
    .user-dropdown-container,
    li:has(#userDropdown),
    li:has(#userMenuBtn) {
      z-index: 50000 !important;
      position: relative !important;
    }

    /* Ensure navbar doesn't override dropdown z-index */
    nav.porsche-navbar {
      z-index: 10 !important;
    }
    /* === MODAL SCROLL FIXES === */

    /* Ensure modal container allows proper scrolling */
    #eventModal {
        overflow: auto !important;
    }

    /* Modal content scrolling improvements */
    #eventModal .flex.items-center.justify-center {
        overflow-y: auto !important;
        scrollbar-width: thin;
        scrollbar-color: #9ca3af #f3f4f6;
    }

    /* Webkit scrollbar styling for modal */
    #eventModal .flex.items-center.justify-center::-webkit-scrollbar {
        width: 8px;
    }

    #eventModal .flex.items-center.justify-center::-webkit-scrollbar-track {
        background: #f3f4f6;
        border-radius: 4px;
    }

    #eventModal .flex.items-center.justify-center::-webkit-scrollbar-thumb {
        background: #9ca3af;
        border-radius: 4px;
    }

    #eventModal .flex.items-center.justify-center::-webkit-scrollbar-thumb:hover {
        background: #6b7280;
    }

    /* Ensure iframe doesn't cause overflow issues */
    #eventIframe {
        overflow: auto !important;
        scroll-behavior: smooth;
    }

    /* Mobile responsive modal improvements */
    @media (max-width: 768px) {
        #eventModal .max-w-7xl {
            max-width: calc(100% - 2rem) !important;
            margin: 1rem !important;
        }

        #eventModal .max-h-\[95vh\] {
            max-height: calc(100vh - 2rem) !important;
        }

        #eventIframe {
            min-height: 60vh !important;
        }
    }

    @media (max-width: 480px) {
        #eventModal .max-w-7xl {
            max-width: calc(100% - 1rem) !important;
            margin: 0.5rem !important;
        }

        #eventModal .max-h-\[95vh\] {
            max-height: calc(100vh - 1rem) !important;
        }

        #eventModal .p-6 {
            padding: 1rem !important;
        }

        #eventIframe {
            min-height: 50vh !important;
        }
    }

    /* Landscape mode optimizations */
    @media (max-height: 600px) and (orientation: landscape) {
        #eventModal .max-h-\[95vh\] {
            max-height: calc(100vh - 1rem) !important;
        }

        #eventIframe {
            min-height: 40vh !important;
        }
    }

    /* Fix for touch scrolling on mobile */
    @media (max-width: 768px) {
        #eventModal {
            -webkit-overflow-scrolling: touch !important;
        }

        #eventModal .flex.items-center.justify-center {
            -webkit-overflow-scrolling: touch !important;
        }
    }

    /* Ensure proper z-index layering */
    #eventModal {
        z-index: 9999 !important;
    }

  </style>
</head>

<body class="porsche-layout m-0 font-sans text-base antialiased font-normal leading-default text-slate-500">
  <div
    class="absolute w-full bg-gradient-to-br from-porsche-charcoal via-porsche-black to-porsche-accent dark:hidden min-h-75">
  </div>
  <!-- Loading Spinner -->
  <div id="loadingSpinner" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="porsche-spinner"></div>
  </div>

  <!-- Header Horizontal Premium con Menú Integrado -->
  <header class="claut-header">
    <!-- Logo area con logo existente -->
    <a href="#" class="claut-header-logo">
      <img src="./assets/img/apple-icon.png" alt="Clúster Logo" />
    </a>

    <!-- Navegación horizontal principal -->
    <nav class="claut-header-nav" id="clautMainNav">
      <a href="dashboard.html" class="claut-nav-item">
        <i class="fas fa-home text-white"></i>
        <span class="text-white">Inicio</span>
      </a>
      <a href="./descuentos.html" class="claut-nav-item">
        <i class="fas fa-tags text-white"></i>
        <span class="text-white">Descuentos</span>
      </a>
      <a href="./boletines.html" class="claut-nav-item ">
        <i class="fas fa-newspaper text-white"></i>
        <span class="text-white">Boletines</span>
      </a>
      <a href="./comites.html" class="claut-nav-item ">
        <i class="fas fa-users text-white"></i>
        <span class="text-white">Comites</span>
      </a>
      <a href="./contacto.html" class="claut-nav-item">
        <i class="fas fa-headset text-white"></i>
        <span class="text-white">Contacto</span>
      </a>
      <a href="./eventos.html" class="claut-nav-item active">
        <i class="fas fa-calendar-alt text-white"></i>
        <span class="text-white">Eventos</span>
      </a>
      <a href="./empresas-convenio.html" class="claut-nav-item">
        <i class="fas fa-handshake text-white"></i>
        <span class="text-white">Socios</span>
      </a>
    </nav>

    <!-- Actions area -->
    <div class="claut-header-actions">


      <!-- Menú usuario -->
      <div class="relative">
        <a href="./profile.html" class="claut-header-btn" id="headerUserMenuBtn" title="Mi cuenta">
          <i class="fas fa-user-circle text-lg"></i>
        </a>
      </div>

    </div>
  </header>

  <!-- Menú curvo animado en la parte inferior -->
  <nav class="claut-bottom-nav">
    <div class="claut-nav-container">
      <div class="claut-nav-curve"></div>
      <a href="dashboard.html" class="claut-nav-link authenticated" data-section="inicio">
        <i class="fas fa-home"></i>
        <span>Inicio</span>
      </a>
      <a href="./descuentos.html" class="claut-nav-link authenticated" data-section="descuentos">
        <i class="fas fa-tags"></i>
        <span>Descuentos</span>
      </a>
      <a href="./boletines.html" class="claut-nav-link authenticated" data-section="boletines">
        <i class="fas fa-newspaper"></i>
        <span>Boletines</span>
      </a>
      <a href="./comites.html" class="claut-nav-link authenticated" data-section="comite">
        <i class="fas fa-users"></i>
        <span>Comité</span>
      </a>
      <a href="./contacto.html" class="claut-nav-link authenticated" data-section="contacto">
        <i class="fas fa-headset"></i>
        <span>Contacto</span>
      </a>
      <a href="./eventos.html" class="claut-nav-link authenticated active" data-section="eventos">
        <i class="fas fa-calendar-alt"></i>
        <span>Eventos</span>
      </a>
      <a href="./empresas-convenio.html" class="claut-nav-link authenticated" data-section="convenios">
        <i class="fas fa-handshake"></i>
        <span>Convenios</span>
      </a>
    </div>
  </nav>

  <main class="claut-main relative h-full max-h-screen transition-all duration-200 ease-in-out">
    <!-- Navbar -->
    <nav
      class="porsche-navbar relative flex flex-wrap items-center justify-between px-0 py-1 mx-6 transition-all ease-in shadow-none duration-250 rounded-2xl lg:flex-nowrap lg:justify-start"
      navbar-main navbar-scroll="false">
      <div class="flex items-center justify-between w-full px-4 py-0 mx-auto flex-wrap-inherit">
        <nav>
          <!-- breadcrumb -->
          <ol class="porsche-breadcrumb flex flex-wrap pt-1 mr-12 bg-transparent rounded-lg sm:mr-16">
            <li class="text-sm leading-normal">
              <a class="opacity-60" href="javascript:;">Intranet</a>
            </li>
            <li class="text-sm pl-2 capitalize leading-normal before:float-left before:pr-2 before:content-['/']"
              aria-current="page">Eventos</li>
          </ol>
          <!-- Mostrar saludo con usuario logueado -->
          <div id="welcomeMessage" class="mb-2">
            <h6 class="porsche-welcome mb-0 capitalize" id="welcomeText">Bienvenido a Clúster Intranet</h6>
          </div>
        </nav>

        <div class="flex items-center mt-2 grow sm:mt-0 sm:mr-6 md:mr-0 lg:flex lg:basis-auto">
          <div class="flex items-center md:ml-auto md:pr-4">
            <div class="relative flex flex-wrap items-stretch w-full transition-all rounded-lg ease">
              <!-- Mostrar información del usuario autenticado -->
              <div id="userInfo" class="apple-user-info text-white text-sm mr-4 hidden items-center">
                <div class="flex flex-col">
                  <span id="userName" class="text-sm font-semibold"></span>
                  <span id="userRole" class="text-xs opacity-75"></span>
                </div>
              </div>
            </div>
          </div>
          <ul class="flex flex-row justify-end pl-0 mb-0 list-none md-max:w-full">
            <!-- Menú para usuarios no autenticados -->
            <li class="flex items-center" id="loginMenuItem">
              <a href="./pages/sign-in.html"
                class="apple-nav-link block px-0 py-2 text-sm font-semibold text-white transition-all ease-nav-brand hover:opacity-75">
                <i class="fa fa-user sm:mr-1"></i>
                <span class="hidden sm:inline">Iniciar Sesión</span>
              </a>
            </li>
            <!-- Buzón de Mensajes -->
            <li class="flex items-center mr-4 hidden" id="messageCenterButton">
              <div class="relative">
                <button id="messageButton"
                  class="block px-3 py-2 text-sm font-semibold text-white transition-all ease-nav-brand hover:opacity-75 relative"
                  onclick="
                    event.stopPropagation();
                    console.log('🔔 Click en botón buzón');
                    console.log('🔧 Forzando apertura directa (sin toggle)');
                    if (window.messageCenter) {
                      window.messageCenter.forceOpen();
                    } else if (window.toggleMessageCenter) {
                      console.log('✅ Usando función toggleMessageCenter');
                      window.toggleMessageCenter();
                    } else if (window.messageCenter) {
                      console.log('✅ Usando messageCenter existente');
                      window.messageCenter.toggleModal();
                    } else if (window.openMessageCenter) {
                      console.log('✅ Usando función global openMessageCenter');
                      window.openMessageCenter();
                    } else {
                      console.log('⚠️ Creando messageCenter on-demand');
                      window.messageCenter = new MessageCenter();
                      window.messageCenter.openModal();
                    }
                  " title="Centro de Mensajes">
                  <i class="fas fa-envelope text-lg"></i>
                  <span id="messageCount"
                    class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
                </button>
              </div>
            </li>
            <!-- User Dropdown Menu -->
            <li class="flex items-center relative user-dropdown-container">
              <div class="relative">
                <button
                  class="flex items-center px-3 py-1 text-sm font-bold text-white transition-all bg-transparent border border-solid rounded-lg shadow-none cursor-pointer leading-pro ease-soft-in border-white/20 bg-white/10 hover:scale-102 hover:border-white/40 active:opacity-85"
                  onclick="toggleUserMenu()" id="userMenuBtn">
                  <i class="fas fa-user text-white mr-2"></i>
                  <span class="hidden sm:inline text-white" id="userDisplayName">Usuario</span>
                  <i class="fas fa-chevron-down text-white ml-2 text-xs"></i>
                </button>
                <!-- User Dropdown -->
                <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 hidden"
                  id="userDropdown" style="top: 100%; z-index: 9999 !important;">
                  <div class="px-4 py-2 border-b border-gray-200">
                    <p class="text-sm font-medium text-gray-900" id="dropdownUserName">Usuario</p>
                    <p class="text-xs text-gray-500" id="dropdownUserRole">Rol</p>
                  </div>
                  <a href="profile.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                    <i class="fas fa-user-circle mr-3 text-gray-400"></i>
                    Mi Perfil
                  </a>
                  <button onclick="handleLogout()"
                    class="w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50">
                    <i class="fas fa-sign-out-alt mr-3 text-red-500"></i>
                    Cerrar Sesión
                  </button>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- end Navbar -->

    <!-- Events Main Content with Background Sections -->
    <div class="w-full h-full">
      <!-- Header Section with White Background -->
      <section class="loop-images" style="--bg: white; min-height: 100vh; position: relative;">
        <!-- Compact Header -->
        <header class="py-4">
          <div class="container">
            <div class="text-center">
              <h1 class="text-4xl md:text-5xl font-bold text-gray-900 opacity-20">Eventos Clúster</h1>
            </div>
          </div>
        </header>

        <!-- Enhanced Professional Introductory Content -->
        <div class="container relative z-20 pt-2 pb-16">
          <!-- Hero Section with Professional Typography -->
          <div class="text-center mb-12">
            <div
              class="inline-flex items-center justify-center px-4 py-2 bg-red-50 border border-red-200 rounded-full text-red-700 text-sm font-semibold mb-6">
              <i class="fas fa-calendar-star mr-2"></i>
              AGENDA EMPRESARIAL 2024
            </div>

            <h1 class="text-5xl md:text-6xl font-bold leading-tight mb-8">
              <span class="block text-gray-900 mb-2">EXPERIENCIAS QUE</span>
              <span class="block bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent">TRANSFORMAN
                NEGOCIOS</span>
            </h1>

            <div class="max-w-4xl mx-auto">
              <p class="text-xl text-gray-600 mb-8 leading-relaxed">
                Participa en eventos estratégicamente diseñados para <strong class="text-gray-900">catapultar tu
                  crecimiento empresarial</strong>
                y crear conexiones que definirán el futuro de tu negocio.
              </p>

              <div class="flex items-center justify-center space-x-8 text-sm text-gray-500 mb-12">
                <div class="flex items-center">
                  <i class="fas fa-users text-red-500 mr-2"></i>
                  <span>+500 Empresarios</span>
                </div>
                <div class="flex items-center">
                  <i class="fas fa-chart-line text-blue-500 mr-2"></i>
                  <span>Networking Premium</span>
                </div>
                <div class="flex items-center">
                  <i class="fas fa-trophy text-yellow-500 mr-2"></i>
                  <span>Eventos Exclusivos</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Enhanced Content Blocks -->
          <div class="max-w-6xl mx-auto mb-12">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-12">
              <!-- Left Content -->
              <div>
                <div
                  class="inline-flex items-center px-3 py-1 bg-blue-50 border border-blue-200 rounded-full text-blue-700 text-sm font-medium mb-6">
                  <i class="fas fa-rocket mr-2"></i>
                  IMPULSA TU CRECIMIENTO
                </div>
                <h3 class="text-3xl font-bold text-gray-900 mb-6">Conferencias Magistrales & Talleres Especializados
                </h3>
                <p class="text-lg text-gray-600 leading-relaxed mb-6">
                  Desde <span class="text-blue-600 font-semibold">conferencias magistrales</span> con líderes de
                  industria hasta
                  <span class="text-green-600 font-semibold">talleres especializados</span> en las últimas tendencias de
                  innovación y tecnología.
                </p>
                <div class="space-y-3">
                  <div class="flex items-center">
                    <i class="fas fa-check-circle text-green-500 mr-3"></i>
                    <span class="text-gray-700">Estrategias de negocio probadas</span>
                  </div>
                  <div class="flex items-center">
                    <i class="fas fa-check-circle text-green-500 mr-3"></i>
                    <span class="text-gray-700">Tecnologías emergentes aplicadas</span>
                  </div>
                  <div class="flex items-center">
                    <i class="fas fa-check-circle text-green-500 mr-3"></i>
                    <span class="text-gray-700">Casos de éxito reales</span>
                  </div>
                </div>
              </div>

              <!-- Right Content -->
              <div>
                <div
                  class="inline-flex items-center px-3 py-1 bg-purple-50 border border-purple-200 rounded-full text-purple-700 text-sm font-medium mb-6">
                  <i class="fas fa-handshake mr-2"></i>
                  NETWORKING ESTRATÉGICO
                </div>
                <h3 class="text-3xl font-bold text-gray-900 mb-6">Conexiones de Alto Valor</h3>
                <p class="text-lg text-gray-600 leading-relaxed mb-6">
                  Sumérgete en experiencias de <span class="text-purple-600 font-semibold">networking de alto
                    valor</span>,
                  donde cada conversación puede convertirse en una <span class="text-red-600 font-semibold">alianza
                    estratégica</span>
                  que impulse tu crecimiento.
                </p>
                <div class="bg-gradient-to-r from-gray-50 to-gray-100 p-6 rounded-xl border border-gray-200">
                  <div class="grid grid-cols-2 gap-4">
                    <div class="text-center">
                      <div class="text-2xl font-bold text-red-600">90%</div>
                      <div class="text-sm text-gray-600">Empresas Participantes</div>
                    </div>
                    <div class="text-center">
                      <div class="text-2xl font-bold text-blue-600">98%</div>
                      <div class="text-sm text-gray-600">Satisfacción</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Enhanced Benefits Grid -->
          <div class="max-w-6xl mx-auto mb-10">
            <div class="text-center mb-12">
              <h3 class="text-3xl font-bold text-gray-900 mb-4">¿Por qué Participar en Nuestros Eventos?</h3>
              <p class="text-lg text-gray-600">Beneficios exclusivos que marcarán la diferencia en tu trayectoria
                empresarial</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
              <div
                class="group bg-white p-8 rounded-2xl border border-gray-200 hover:border-red-300 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <div
                  class="bg-gradient-to-br from-red-500 to-red-600 w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                  <i class="fas fa-calendar-check text-white text-2xl"></i>
                </div>
                <h4 class="text-xl font-bold text-gray-900 mb-3">Eventos Exclusivos</h4>
                <p class="text-gray-600 leading-relaxed mb-4">Acceso privilegiado a conferencias y talleres de alto
                  nivel con los mejores expertos de la industria</p>
                <div class="flex items-center text-red-600 font-semibold text-sm">
                  <span>Más información</span>
                  <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                </div>
              </div>

              <div
                class="group bg-white p-8 rounded-2xl border border-gray-200 hover:border-blue-300 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <div
                  class="bg-gradient-to-br from-blue-500 to-blue-600 w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                  <i class="fas fa-network-wired text-white text-2xl"></i>
                </div>
                <h4 class="text-xl font-bold text-gray-900 mb-3">Networking Premium</h4>
                <p class="text-gray-600 leading-relaxed mb-4">Conecta directamente con líderes empresariales y
                  desarrolla relaciones comerciales estratégicas duraderas</p>
                <div class="flex items-center text-blue-600 font-semibold text-sm">
                  <span>Conectar ahora</span>
                  <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                </div>
              </div>

              <div
                class="group bg-white p-8 rounded-2xl border border-gray-200 hover:border-green-300 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <div
                  class="bg-gradient-to-br from-green-500 to-green-600 w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                  <i class="fas fa-lightbulb text-white text-2xl"></i>
                </div>
                <h4 class="text-xl font-bold text-gray-900 mb-3">Innovación Continua</h4>
                <p class="text-gray-600 leading-relaxed mb-4">Mantente a la vanguardia con las últimas tendencias
                  tecnológicas y estrategias empresariales emergentes</p>
                <div class="flex items-center text-green-600 font-semibold text-sm">
                  <span>Explorar tendencias</span>
                  <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                </div>
              </div>
            </div>
          </div>

          <!-- Enhanced Call to Action -->
          <div class="text-center mb-8">
            <div class="bg-gradient-to-r from-gray-50 to-gray-100 rounded-3xl p-8 border border-gray-200">
              <h3 class="text-3xl font-bold text-gray-900 mb-6">¿Listo para Transformar tu Negocio?</h3>
              <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
                No te pierdas la oportunidad de formar parte de la comunidad empresarial más dinámica.
                Cada evento es una puerta hacia nuevas posibilidades.
              </p>
              <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <button
                  class="bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-bold py-4 px-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 flex items-center">
                  <i class="fas fa-calendar-plus mr-3 text-xl"></i>
                  Explora Nuestros Próximos Eventos
                  <i class="fas fa-arrow-down ml-3 animate-bounce"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Scroll Image Section -->
      <section class="section2" style="--bg: black;">
        <div class="image-motion">
          <picture>
            <img src="./css/moveimage.png" alt="Colaboración empresarial">
          </picture>
        </div>
      </section>

      <!-- Events Content Section -->
      <section style="--bg: black;" class="section3">
        <div class="container">
          <h1 class="title">Eventos del Clúster</h1>
          <p class="subtitle">Conectando oportunidades de negocio</p>

          <main>
            <!-- Loading State -->
            <div id="loadingState" class="flex items-center justify-center min-h-96">
              <div class="text-center">
                <i class="fas fa-spinner fa-spin text-4xl mb-4" style="color: #C7252B;"></i>
                <p class="text-gray-600">Cargando eventos...</p>
              </div>
            </div>

            <!-- Event Cards Container - Will be populated by JavaScript -->
            <ul id="event-cards"></ul>
          </main>

          <!-- Empty State -->
          <div id="emptyState" class="hidden flex items-center justify-center min-h-96">
            <div class="text-center">
              <i class="fas fa-calendar-times text-6xl text-gray-400 mb-4"></i>
              <h3 class="text-xl font-bold text-gray-700 mb-2">No hay eventos disponibles</h3>
              <p class="text-gray-500">Los eventos aparecerán aquí cuando estén disponibles.</p>
            </div>
          </div>
        </div>
      </section>
    </div>

  </main>

  <!-- Modal para ver evento completo en iframe -->
  <div id="eventModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50" style="backdrop-filter: blur(5px);">
    <div class="flex items-center justify-center min-h-screen p-4 overflow-auto">
      <div class="bg-white rounded-xl w-full max-w-7xl max-h-[95vh] flex flex-col shadow-2xl my-4">
        <div
          class="flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white rounded-t-xl flex-shrink-0">
          <h3 class="text-xl font-bold text-gray-800" id="modalEventTitle">Detalles del Evento</h3>
          <button onclick="closeEventModal()"
            class="text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-2 rounded-lg transition-all duration-200 text-xl">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="flex-1 bg-gray-50 overflow-hidden">
          <iframe id="eventIframe" src="" class="w-full h-full border-0 rounded-b-xl" style="min-height: 70vh;"></iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>

  <!-- Scripts -->
  <!-- <script src="./assets/js/eventos.js"></script> <!-- Comentado: conflictúa con nuevo sistema inline -->
  <script>
    // Navigation functionality for header and bottom navigation
    document.addEventListener('DOMContentLoaded', function () {
      console.log('🚀 Initializing Claut Navigation System');

      // Synchronize header and bottom navigation
      const headerNavLinks = document.querySelectorAll('.claut-header-nav .claut-nav-item');
      const bottomNavLinks = document.querySelectorAll('.claut-bottom-nav .claut-nav-link');
      const navCurve = document.querySelector('.claut-nav-curve');

      function setActiveNav(activeLink) {
        // Remover clase active de todos los enlaces del bottom nav
        bottomNavLinks.forEach(link => link.classList.remove('active'));
        // Agregar clase active al enlace clickeado
        activeLink.classList.add('active');
        // Posicionar la curva
        if (navCurve) {
          const linkIndex = Array.from(bottomNavLinks).indexOf(activeLink);
          const container = activeLink.closest('.claut-nav-container');
          const containerWidth = container.offsetWidth;
          const linkWidth = activeLink.offsetWidth;
          const leftOffset = (containerWidth / bottomNavLinks.length) * linkIndex + (linkWidth / 2);
          navCurve.style.left = leftOffset + 'px';
        }
      }

      // Event listeners para bottom nav
      bottomNavLinks.forEach((link, index) => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          // Solo hacer la animación, no navegar
          setActiveNav(link);
          // Navegar después de un pequeño delay para mostrar la animación
          setTimeout(() => {
            const href = this.getAttribute('href');
            if (href && href !== '#') {
              window.location.href = href;
            }
          }, 200);
        });
      });

      // Función para sincronizar navegación al cargar la página
      function syncNavigationOnLoad() {
        const currentPage = window.location.pathname;
        let activeBottomLink = null;
        let activeHeaderLink = null;

        // Determinar qué enlace debe estar activo basado en la página actual
        if (currentPage.includes('dashboard') || currentPage === '/' || currentPage.includes('index')) {
          activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="inicio"]');
          activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="dashboard"]');
        } else if (currentPage.includes('descuentos')) {
          activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="descuentos"]');
          activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="descuentos"]');
        } else if (currentPage.includes('boletines')) {
          activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="boletines"]');
          activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="boletines"]');
        } else if (currentPage.includes('comite')) {
          activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="comite"]');
          activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="comite"]');
        } else if (currentPage.includes('contacto')) {
          activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="contacto"]');
          activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="contacto"]');
        } else if (currentPage.includes('eventos')) {
          activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="eventos"]');
          activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="eventos"]');
        } else if (currentPage.includes('convenio')) {
          activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="convenios"]');
          activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="convenio"]');
        }

        // Activar los enlaces correspondientes
        if (activeBottomLink) {
          activeBottomLink.classList.add('active');
          setActiveNav(activeBottomLink);
        }
        if (activeHeaderLink) {
          activeHeaderLink.classList.add('active');
        }
      }

      // Inicializar navegación sincronizada
      syncNavigationOnLoad();

      function setActiveState(href) {
        // Update header navigation
        headerNavLinks.forEach(item => {
          if (item.getAttribute('href') === href) {
            item.classList.add('active');
          } else {
            item.classList.remove('active');
          }
        });

        // Update bottom navigation
        bottomNavLinks.forEach(item => {
          if (item.getAttribute('href') === href) {
            item.classList.add('active');
          } else {
            item.classList.remove('active');
          }
        });
      }

      // Set initial active state for eventos
      setActiveState('./eventos.html');

      // Add click handlers for header navigation sync only
      headerNavLinks.forEach(item => {
        item.addEventListener('click', function (e) {
          const href = this.getAttribute('href');
          if (href && href !== '#' && !href.startsWith('javascript:')) {
            setActiveState(href);
          }
        });
      });

      // Header scroll effect
      function initHeaderScrollEffect() {
        const header = document.querySelector('.claut-header-nav');
        if (!header) return;

        let lastScrollY = window.scrollY;

        function updateHeader() {
          const currentScrollY = window.scrollY;

          if (currentScrollY > 100) {
            header.classList.add('claut-nav-scrolled');
          } else {
            header.classList.remove('claut-nav-scrolled');
          }

          lastScrollY = currentScrollY;
        }

        window.addEventListener('scroll', updateHeader, { passive: true });
      }

      // Bottom navigation touch handling
      function initBottomNavTouchHandling() {
        const bottomNav = document.querySelector('.claut-bottom-nav');
        if (!bottomNav) return;

        bottomNav.addEventListener('touchstart', function (e) {
          e.target.classList.add('touching');
        }, { passive: true });

        bottomNav.addEventListener('touchend', function (e) {
          setTimeout(() => {
            e.target.classList.remove('touching');
          }, 150);
        }, { passive: true });
      }

      // Responsive navigation visibility
      function handleResponsiveNavigation() {
        const headerNav = document.querySelector('.claut-header-nav');
        const bottomNav = document.querySelector('.claut-bottom-nav');

        function updateNavVisibility() {
          const isMobile = window.innerWidth <= 1024;

          if (headerNav) {
            headerNav.style.display = isMobile ? 'none' : 'flex';
          }

          if (bottomNav) {
            bottomNav.style.display = isMobile ? 'flex' : 'none';
          }
        }

        updateNavVisibility();
        window.addEventListener('resize', updateNavVisibility);
      }

      // GSAP animations for navigation entrance
      if (typeof gsap !== 'undefined') {
        // Header navigation animation
        gsap.fromTo('.claut-header-nav .claut-nav-item', {
          rotationY: -180,
          scale: 0.5,
          opacity: 0,
          y: -30
        }, {
          rotationY: 0,
          scale: 1,
          opacity: 1,
          y: 0,
          duration: 0.8,
          stagger: 0.1,
          ease: "back.out(1.7)",
          delay: 0.2
        });

        // Bottom navigation animation
        gsap.fromTo('.claut-bottom-nav', {
          y: 100,
          opacity: 0
        }, {
          y: 0,
          opacity: 1,
          duration: 0.8,
          ease: "back.out(1.7)",
          delay: 0.5
        });
        // Animación escalonada de los iconos
        gsap.fromTo('.claut-bottom-nav .claut-nav-link i', {
          scale: 0,
          rotation: -180
        }, {
          scale: 1,
          rotation: 0,
          duration: 0.6,
          ease: "back.out(2.5)",
          stagger: 0.1,
          delay: 1
        });
      }

      // Bottom navigation touch interactions
      bottomNavLinks.forEach(link => {
        link.addEventListener('touchstart', function () {
          this.style.transform = 'scale(0.95)';
        });
        link.addEventListener('touchend', function () {
          this.style.transform = 'scale(1)';
        });
      });


      // Configuración del menú móvil
      function setupMobileMenu() {
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const headerNav = document.querySelector('.claut-header-nav');

        if (mobileMenuBtn && headerNav) {
          mobileMenuBtn.addEventListener('click', function () {
            headerNav.classList.toggle('show');

            // Cambiar ícono del botón
            const icon = this.querySelector('i');
            if (headerNav.classList.contains('show')) {
              icon.className = 'fas fa-times';
            } else {
              icon.className = 'fas fa-bars';
            }
          });

          // Cerrar menú al hacer clic en un enlace
          const navLinks = headerNav.querySelectorAll('.claut-nav-item');
          navLinks.forEach(link => {
            link.addEventListener('click', () => {
              headerNav.classList.remove('show');
              const icon = mobileMenuBtn.querySelector('i');
              icon.className = 'fas fa-bars';
            });
          });
        }
      }

      // Configuración de botones del header
      function setupHeaderButtons() {
        // Botón de mensajes
        const messagesBtn = document.getElementById('headerMessagesBtn');
        if (messagesBtn) {
          messagesBtn.addEventListener('click', function () {
            // Aquí se podría implementar la lógica del centro de mensajes
            console.log('Centro de mensajes clicked');
          });
        }

        // Botón de usuario
        const userMenuBtn = document.getElementById('headerUserMenuBtn');
        if (userMenuBtn) {
          userMenuBtn.addEventListener('click', function () {
            // Aquí se podría implementar la lógica del menú de usuario
            console.log('User menu clicked');
          });
        }
      }

      // Initialize all navigation functionality
      syncNavigation();
      initHeaderScrollEffect();
      initBottomNavTouchHandling();
      handleResponsiveNavigation();
      setupMobileMenu();
      setupHeaderButtons();

      console.log('✅ Claut Navigation System initialized successfully');
    });

    // Logout functionality
    function handleLogout() {
      if (confirm('¿Estás seguro de que deseas cerrar sesión?')) {
        localStorage.removeItem('userSession');
        sessionStorage.clear();
        window.location.href = './pages/sign-in.html';
      }
    }

    // Modal functions for events
    async function openEventModal(eventId, title) {
      console.log(`📖 Opening event details modal for ID: ${eventId}`);

      try {
        // === NUEVA LÓGICA CONDICIONAL ===
        // Obtener datos completos del evento para verificar beneficios
        const eventData = await getEventData(eventId);

        if (!eventData) {
          console.error('❌ No se pudieron obtener los datos del evento');
          showToast('Error al cargar el evento', 'error');
          return;
        }

        console.log(`🔍 Datos del evento cargados:`, eventData);
        console.log(`🎯 tiene_beneficio: ${eventData.tiene_beneficio}`);
        console.log(`🔗 link_evento: ${eventData.link_evento}`);

        // Verificar si el usuario ya está registrado
        await checkUserRegistration(eventId, title);

        // LÓGICA CONDICIONAL PARA BENEFICIOS
        if (eventData.tiene_beneficio == 1) {
          console.log(`✅ Evento CON beneficio - Mostrar modal interno`);
          // Tiene beneficio: mostrar modal interno con formulario
          const modal = document.getElementById('eventModal');
          const iframe = document.getElementById('eventIframe');
          const modalTitle = document.getElementById('modalEventTitle');

          modalTitle.textContent = title || 'Detalles del Evento';
          iframe.src = `evento_detalle.php?id=${eventId}`;
          modal.classList.remove('hidden');
          modal.focus();

        } else {
          console.log(`🚀 Evento SIN beneficio - Redirección directa`);
          // Sin beneficio: redirección directa al link del evento
          if (eventData.link_evento && eventData.link_evento.trim() !== '') {
            showToast('Redirigiendo al registro del evento...', 'info', 2000);
            setTimeout(() => {
              window.open(eventData.link_evento, '_blank');
            }, 500);
          } else {
            showToast('Este evento no tiene un enlace de registro configurado', 'error');
          }
        }

      } catch (error) {
        console.error('❌ Error en openEventModal:', error);
        showToast('Error al procesar el evento', 'error');
      }
    }

    // === NUEVA FUNCIÓN PARA OBTENER DATOS DEL EVENTO ===
    async function getEventData(eventId) {
      try {
        console.log(`🔄 Obteniendo datos del evento ID: ${eventId}`);

        const response = await fetch(`./api/eventos.php?action=obtener&id=${eventId}`);
        const data = await response.json();

        if (data.success && data.evento) {
          return data.evento;
        } else {
          console.error('❌ Error en respuesta de API:', data.message);
          return null;
        }
      } catch (error) {
        console.error('❌ Error al obtener datos del evento:', error);
        return null;
      }
    }

    // Función para verificar el registro del usuario
    async function checkUserRegistration(eventId, eventTitle) {
      const userEmail = localStorage.getItem('userEmail');

      // Si no hay email guardado, no hacer verificación
      if (!userEmail) {
        console.log('🔍 No hay email guardado, saltando verificación de registro');
        return;
      }

      try {
        console.log('🔍 Verificando registro para evento:', eventId, 'email:', userEmail);

        const response = await fetch(`./check_registro.php?evento_id=${eventId}&email=${encodeURIComponent(userEmail)}`);
        const data = await response.json();

        if (data.status === 'registered') {
          const estado = data.data.estado_registro;
          let mensaje = `Ya te registraste al evento "${eventTitle}".`;

          if (estado === 'pendiente') {
            mensaje += ' Tu registro está pendiente de aprobación.';
          } else if (estado === 'confirmado') {
            mensaje += ' Tu registro ha sido confirmado.';
          } else if (estado === 'rechazado') {
            mensaje += ' Tu registro fue rechazado anteriormente.';
          }

          // Mostrar notificación en la página principal
          showToast(mensaje, 'info', 7000);
        }

      } catch (error) {
        console.warn('⚠️ Error verificando registro:', error);
        // No bloquear la apertura del modal por errores de verificación
      }
    }

    // Sistema de notificaciones toast
    function showToast(message, type = 'info', duration = 5000) {
      const toastContainer = document.getElementById('toastContainer');

      // Crear elemento toast
      const toast = document.createElement('div');
      toast.className = `
        fixed top-4 right-4 z-50 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto
        ring-1 ring-black ring-opacity-5 transform transition-all duration-300 ease-in-out
        translate-x-full opacity-0
      `;

      // Configurar colores según el tipo
      let borderColor, iconColor, iconClass;
      if (type === 'error') {
        borderColor = 'border-l-4 border-red-500';
        iconColor = 'text-red-500';
        iconClass = 'fas fa-exclamation-circle';
      } else if (type === 'info') {
        borderColor = 'border-l-4 border-blue-500';
        iconColor = 'text-blue-500';
        iconClass = 'fas fa-info-circle';
      } else if (type === 'warning') {
        borderColor = 'border-l-4 border-yellow-500';
        iconColor = 'text-yellow-500';
        iconClass = 'fas fa-exclamation-triangle';
      } else {
        borderColor = 'border-l-4 border-green-500';
        iconColor = 'text-green-500';
        iconClass = 'fas fa-check-circle';
      }

      toast.className += ` ${borderColor}`;

      toast.innerHTML = `
        <div class="p-4">
          <div class="flex items-start">
            <div class="flex-shrink-0">
              <i class="${iconClass} ${iconColor} text-xl"></i>
            </div>
            <div class="ml-3 w-0 flex-1">
              <p class="text-sm font-medium text-gray-900">${message}</p>
            </div>
            <div class="ml-4 flex-shrink-0 flex">
              <button onclick="this.closest('[role=toast]').remove()"
                      class="bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none">
                <span class="sr-only">Cerrar</span>
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
        </div>
      `;

      toast.setAttribute('role', 'toast');

      // Agregar al contenedor
      toastContainer.appendChild(toast);

      // Animar entrada
      setTimeout(() => {
        toast.classList.remove('translate-x-full', 'opacity-0');
      }, 100);

      // Auto-remover después del duration
      setTimeout(() => {
        if (toast.parentNode) {
          toast.classList.add('translate-x-full', 'opacity-0');
          setTimeout(() => {
            toast.remove();
          }, 300);
        }
      }, duration);
    }

    // Función auxiliar para configurar información de usuario (opcional)
    function setUserInfo(email, name = null) {
      if (email) {
        localStorage.setItem('userEmail', email);
        console.log('📧 Email de usuario configurado:', email);
      }
      if (name) {
        localStorage.setItem('userName', name);
        console.log('👤 Nombre de usuario configurado:', name);
      }

      showToast('Información de usuario actualizada', 'success', 3000);
    }

    // Función para limpiar información de usuario
    function clearUserInfo() {
      localStorage.removeItem('userEmail');
      localStorage.removeItem('userName');
      showToast('Información de usuario eliminada', 'info', 3000);
    }

    function closeEventModal() {
      const modal = document.getElementById('eventModal');
      const iframe = document.getElementById('eventIframe');

      console.log('📖 Closing event details modal');

      modal.classList.add('hidden');
      // Pequeño delay para evitar flickers al cambiar src
      setTimeout(() => {
        iframe.src = '';
      }, 300);
    }

    // Initialize sticky cards effect
    document.addEventListener('DOMContentLoaded', function () {
      console.log('🔄 DOM loaded, initializing sticky events cards...');
      console.log('📋 Checking DOM elements:');
      console.log('- event-cards container:', !!document.getElementById('event-cards'));
      console.log('- loadingState:', !!document.getElementById('loadingState'));
      console.log('- emptyState:', !!document.getElementById('emptyState'));

      // Llamar directamente al nuevo sistema de sticky cards
      loadStickyEventsCards();

      // Agregar listener para cerrar modal con Escape
      document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') {
          const modal = document.getElementById('eventModal');
          if (modal && !modal.classList.contains('hidden')) {
            closeEventModal();
          }
        }
      });
    });

    // Stacked cards scroll effect implementation
    function initializeStackedCardsScrollEffect() {
      console.log('🎬 Stacked cards scroll effect starting...');
      let ticking = false;

      function handleScroll() {
        if (!ticking) {
          requestAnimationFrame(() => {
            updateStackedCards();
            ticking = false;
          });
          ticking = true;
        }
      }

      function updateStackedCards() {
        const eventCards = document.querySelectorAll('.event-card');
        if (!eventCards.length) {
          console.log('🔍 No event cards found for stacking');
          return;
        }
        console.log(`📊 Found ${eventCards.length} event cards for stacking`);

        const scrollY = window.scrollY;
        const windowHeight = window.innerHeight;
        const scrollTop = scrollY;

        // Convertir NodeList a Array y procesarla
        const cardsArray = Array.from(eventCards);

        cardsArray.forEach((card, index) => {
          const cardRect = card.getBoundingClientRect();
          const cardTop = cardRect.top + scrollY;
          const cardBottom = cardTop + cardRect.height;

          // Determinar si la tarjeta debe apilarse - cuando está pasando por el top del viewport
          const isCardPassingTop = cardTop < (scrollY + 100) && cardBottom > scrollY;

          if (isCardPassingTop) {
            // Calcular qué tan arriba está la tarjeta
            const passedDistance = (scrollY + 100) - cardTop;
            const maxPassDistance = cardRect.height + 200;
            const stackProgress = Math.min(passedDistance / maxPassDistance, 1);

            card.classList.add('stacked');

            // Aplicar transformación progresiva
            const scale = 0.95 - (index * 0.05 * stackProgress);
            const translateY = -20 - (index * 15 * stackProgress);
            const opacity = 0.9 - (index * 0.2 * stackProgress);
            const zIndex = 50 - index;

            card.style.transform = `scale(${Math.max(scale, 0.7)}) translateY(${translateY}px)`;
            card.style.opacity = Math.max(opacity, 0.3);
            card.style.zIndex = zIndex;

            // Debug para la primera tarjeta
            if (index === 0) {
              console.log(`🎯 Card ${index}: stackProgress=${stackProgress.toFixed(2)}, scale=${scale.toFixed(2)}, translateY=${translateY}`);
            }
          } else {
            card.classList.remove('stacked');
            card.style.transform = '';
            card.style.opacity = '';
            card.style.zIndex = '';
          }
        });
      }

      // Agregar evento de scroll con throttle
      window.addEventListener('scroll', handleScroll, { passive: true });
      console.log('✅ Stacked cards scroll effect initialized with event listener');

      // Ejecutar una vez al inicio para establecer el estado inicial
      console.log('🔍 Running initial updateStackedCards...');
      updateStackedCards();

      // Botón toggle opcional
      addToggleButton();
    }

    function addToggleButton() {
      const container = document.querySelector('.events-container');
      if (!container) return;

      const toggleButton = document.createElement('div');
      toggleButton.className = 'text-center mt-8 mb-4';
      toggleButton.innerHTML = `
        <button id="stackToggle" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg transition-colors duration-200">
          <i class="fas fa-layer-group mr-2"></i>
          <span id="toggleText">Ver Lista Separada</span>
        </button>
      `;

      container.appendChild(toggleButton);

      const button = document.getElementById('stackToggle');
      const text = document.getElementById('toggleText');

      button.addEventListener('click', function () {
        const stackContainer = document.querySelector('.stacked-cards-container');
        if (!stackContainer) return;

        const isScrolled = stackContainer.classList.contains('scrolled');

        if (isScrolled) {
          stackContainer.classList.remove('scrolled');
          text.textContent = 'Ver Lista Separada';
        } else {
          stackContainer.classList.add('scrolled');
          text.textContent = 'Ver Apiladas';
        }
      });
    }

    // Sticky Cards Loader - New Implementation
    async function loadStickyEventsCards() {
      try {
        console.log('🔄 [DEBUG] Loading sticky events cards...');
        console.log('🔄 [DEBUG] Fetching from: ./api/eventos.php?action=listar');

        const response = await fetch('./api/eventos.php?action=listar');
        console.log('🔄 [DEBUG] Response status:', response.status, response.statusText);
        console.log('🔄 [DEBUG] Response ok:', response.ok);

        if (!response.ok) {
          console.error('❌ [DEBUG] Response not ok:', response.status, response.statusText);
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }

        const data = await response.json();
        console.log('📦 [DEBUG] API Response full data:', data);
        console.log('📦 [DEBUG] Data.success:', data.success);
        console.log('📦 [DEBUG] Events array:', data.eventos);
        console.log('📦 [DEBUG] Events count:', data.eventos?.length || 0);

        const loadingState = document.getElementById('loadingState');
        const cardsContainer = document.getElementById('event-cards');

        console.log('🔍 [DEBUG] Elements check:');
        console.log('- loadingState element:', loadingState);
        console.log('- cardsContainer element:', cardsContainer);
        console.log('- data.success:', data.success);
        console.log('- data structure:', Object.keys(data));

        console.log('🔍 [DEBUG] Elements found:', {
          loadingState: !!loadingState,
          cardsContainer: !!cardsContainer,
          hasData: data.success,
          eventCount: data.eventos?.length || 0
        });

        if (data.success && data.eventos?.length > 0) {
          // Ocultar loading
          if (loadingState) {
            loadingState.classList.add('hidden');
            console.log('✅ Loading state hidden');
          }

          // Limpiar contenedor
          if (cardsContainer) {
            cardsContainer.innerHTML = '';

            // Configurar variables CSS para las tarjetas
            const numCards = data.eventos.length;
            document.documentElement.style.setProperty('--numcards', numCards);
            document.documentElement.style.setProperty('--card-height', '360px'); // Adjusted for larger card size
            document.documentElement.style.setProperty('--card-margin', '2rem');
            document.documentElement.style.setProperty('--card-top-offset', '2rem');
            document.documentElement.style.setProperty('--outline-width', '0px'); // Remove debug outlines
            console.log('✅ Container cleared, CSS variables set:', {
              numcards: numCards,
              cardHeight: '360px',
              cardMargin: '2rem',
              cardTopOffset: '2rem'
            });

            // Crear tarjetas con nuevo sistema
            console.log('📄 [DEBUG] Starting to create cards...');
            data.eventos.forEach((evento, index) => {
              console.log(`📄 [DEBUG] Creating card ${index + 1}:`, evento.titulo);
              try {
                const card = createEventCard(evento, index);
                console.log(`📄 [DEBUG] Card ${index + 1} created successfully:`, card);
                cardsContainer.appendChild(card);
                console.log(`📄 [DEBUG] Card ${index + 1} appended to container`);
              } catch (cardError) {
                console.error(`❌ [DEBUG] Error creating card ${index + 1}:`, cardError);
                console.error(`❌ [DEBUG] Event data:`, evento);
              }
            });
            console.log('📄 [DEBUG] All cards creation completed');

            console.log(`✅ ${data.eventos.length} eventos cargados con nuevo sistema motion`);

            // Inicializar animaciones de scroll después de crear las tarjetas
            setTimeout(() => {
              try {
                initScrollAnimations();
              } catch (error) {
                console.warn('⚠️ Error inicializando animaciones, tarjetas seguirán funcionando:', error);
              }
            }, 100);
          } else {
            console.error('❌ event-cards container not found!');
          }
        } else {
          console.log('📭 No events or error, showing empty state');
          showEmptyState();
        }
      } catch (error) {
        console.error('❌ [DEBUG] Sticky cards error:', error);
        console.error('❌ [DEBUG] Error stack:', error.stack);
        console.error('❌ [DEBUG] Error message:', error.message);

        // Intentar mostrar un estado de error más informativo
        const loadingState = document.getElementById('loadingState');
        if (loadingState) {
          loadingState.innerHTML = `
            <div class="text-center text-red-600">
              <i class="fas fa-exclamation-triangle text-4xl mb-4"></i>
              <p class="text-lg font-semibold mb-2">Error cargando eventos</p>
              <p class="text-sm">Error: ${error.message}</p>
              <button onclick="location.reload()" class="mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">
                Recargar Página
              </button>
            </div>
          `;
          loadingState.classList.remove('hidden');
        }
      }
    }

    // Show empty state function
    function showEmptyState() {
      const loadingState = document.getElementById('loadingState');
      const emptyState = document.getElementById('emptyState');

      if (loadingState) loadingState.classList.add('hidden');
      if (emptyState) emptyState.classList.remove('hidden');

      console.log('📭 No events found, showing empty state');
    }

    // Legacy function - Now redirects to sticky cards
    async function loadStackedEventsFallback() {
      await loadStickyEventsCards();
    }

    // Función helper para crear elemento de imagen con fallback robusto
    function createEventImageElement(evento) {
      const img = document.createElement('img');
      img.alt = evento.titulo || 'Evento';
      img.className = 'w-full h-full object-cover';

      // Sistema de prioridad de imágenes como en comités
      let imageUrl = './assets/img/evento-default.jpg'; // Fallback por defecto

      // Generar placeholder dinámico con el nombre del evento
      const placeholderUrl = `https://via.placeholder.com/400x200/c9302c/ffffff?text=${encodeURIComponent(evento.titulo || 'Evento')}`;

      // Debug imagen
      console.log(`🖼️ Evento ${evento.id} - imagen:`, evento.imagen);
      console.log(`🖼️ Evento ${evento.id} - imagen_url:`, evento.imagen_url);
      console.log(`🖼️ Evento ${evento.id} - tiene_imagen:`, evento.tiene_imagen);

      // 1. Si tiene imagen_url directa (URL externa)
      if (evento.imagen_url && evento.imagen_url.trim()) {
        imageUrl = evento.imagen_url;
        console.log(`✅ Evento ${evento.id} - Usando imagen_url:`, imageUrl);
      }
      // 2. Si tiene imagen almacenada en el sistema
      else if (evento.imagen && evento.imagen.trim()) {
        // Construir URL correcta para imagen local
        if (evento.imagen.startsWith('http') || evento.imagen.startsWith('data:')) {
          // Ya es una URL completa
          imageUrl = evento.imagen;
        } else {
          // Es un archivo local, usar endpoint del API
          imageUrl = `./api/eventos.php?action=imagen&file=${encodeURIComponent(evento.imagen)}&t=${Date.now()}`;
        }
        console.log(`✅ Evento ${evento.id} - Usando imagen directa:`, imageUrl);
      }
      // 3. Si indica que tiene imagen pero no URL (usar API)
      else if (evento.tiene_imagen && evento.id) {
        imageUrl = `./api/eventos.php?action=imagen&id=${evento.id}&t=${Date.now()}`;
        console.log(`✅ Evento ${evento.id} - Usando API endpoint:`, imageUrl);
      }
      // 4. Usar placeholder dinámico como último recurso
      else {
        imageUrl = placeholderUrl;
        console.log(`⚠️ Evento ${evento.id} - Usando placeholder:`, imageUrl);
      }

      img.src = imageUrl;

      // Manejo robusto de errores con retry
      let retryCount = 0;
      const MAX_RETRIES = 2;

      img.onerror = function () {
        console.log(`⚠️ Error cargando imagen para evento ${evento.id}:`, this.src);

        if (retryCount < MAX_RETRIES) {
          retryCount++;
          if (retryCount === 1 && imageUrl !== placeholderUrl) {
            // Primer retry: usar placeholder dinámico
            console.log(`🔄 Retry ${retryCount}: Usando placeholder dinámico`);
            this.src = placeholderUrl;
          } else {
            // Segundo retry: usar imagen por defecto
            console.log(`🔄 Retry ${retryCount}: Usando imagen por defecto`);
            this.src = './assets/img/evento-default.jpg';
          }
        } else {
          console.log(`❌ Error final cargando imagen para evento ${evento.id}`);
        }
      };

      img.onload = function () {
        console.log(`✅ Imagen cargada correctamente para evento ${evento.id}`);
      };

      return img;
    }

    function createEventCard(evento, index) {
      console.log(`🎨 [DEBUG] createEventCard called for:`, evento.titulo, 'index:', index);

      const card = document.createElement('li');
      const colors = ['green', 'blue', 'orange', 'red', 'porsche'];
      const colorClass = colors[index % colors.length];
      card.className = `event-card event-card--${colorClass}`;
      card.id = `card_${evento.id}`;
      card.setAttribute('aria-label', `Evento ${index + 1}`);

      console.log(`🎨 [DEBUG] Card element created:`, card);

      const precioTexto = evento.precio > 0 ? `$${evento.precio}` : 'Gratuito';
      const fechaFormateada = new Date(evento.fecha_inicio).toLocaleDateString('es-ES', {
        month: 'short',
        day: 'numeric',
        year: 'numeric'
      });

      // Calcular progreso basado en capacidad
      const progress = evento.capacidad_maxima > 0 ?
        Math.round((evento.capacidad_actual / evento.capacidad_maxima) * 100) : 0;

      // Crear estructura principal
      const cardContent = document.createElement('div');
      cardContent.className = 'event-card__content';
      cardContent.style.setProperty('--progress-width', `${progress}%`);


      // Crear body
      const body = document.createElement('div');
      body.className = 'event-card__body';
      body.innerHTML = `
        <h3 class="event-card__title">${evento.titulo}</h3>
        <p class="event-card__description">${evento.ubicacion || 'Evento corporativo'}</p>
        <div class="event-card__progress">
          <span class="event-card__progress-label">Número de Beneficios</span>
          <div class="event-card__progress-bar"></div>
          <span class="event-card__progress-text">${progress}%</span>
        </div>
      `;

      // Crear footer
      const footer = document.createElement('div');
      footer.className = 'event-card__footer';
      footer.innerHTML = `
        <button onclick="openEventModal(${evento.id}, '${evento.titulo.replace(/'/g, "\\\\\'")}')" class="btn-countdown">Ver detalles</button>
      `;

      // Ensamblar la tarjeta completa (sin header, nuevo diseño)
      cardContent.appendChild(body);
      cardContent.appendChild(footer);
      card.appendChild(cardContent);

      console.log(`✅ [DEBUG] Card ${index + 1} fully assembled:`, card);
      return card;
    }

    // Inicializar animaciones con Motion.dev
    async function initScrollAnimations() {
      try {
        console.log('🎬 Attempting to load Motion.dev...');

        const $cardsWrapper = document.querySelector('#event-cards');
        const $cards = document.querySelectorAll('.event-card');

        if (!$cardsWrapper || !$cards.length) {
          console.log('⚠️ No cards found for animation');
          return;
        }

        const numCards = $cards.length;
        console.log(`🎬 Found ${numCards} cards for animation`);

        // Configurar padding y z-index para cada tarjeta
        $cards.forEach(($card, index0) => {
          const index = index0 + 1;
          $card.style.paddingTop = `calc(${index} * var(--card-top-offset))`;
          // Set z-index so cards stack properly: later cards appear on top
          $card.style.zIndex = index0 + 1;
        });

        // Inicializar el efecto de scroll stacking
        console.log('🎬 Initializing stacked cards scroll effect...');
        initializeStackedCardsScrollEffect();

        // Intentar cargar Motion.dev
        try {
          const { scroll, animate } = await import('https://cdn.skypack.dev/motion@10.13.1');
          console.log('✅ Motion.dev loaded successfully');

          $cards.forEach(($card, index0) => {
            const index = index0 + 1;

            // Fixed stacking: later cards (higher index) should stay on top
            // Set z-index so later cards appear above earlier ones
            $card.style.zIndex = index0 + 1;

            // Scroll-Linked Animation - scale down earlier cards more than later ones
            scroll(
              animate($card, {
                scale: [1, 1 - (0.05 * (numCards - index0 - 1))], // Earlier cards scale down more
              }), {
              target: $cardsWrapper,
              offset: [`${index0 / numCards * 100}%`, `${index / numCards * 100}%`],
            }
            );
          });

          console.log('✅ Scroll animations initialized successfully');
        } catch (motionError) {
          console.warn('⚠️ Motion.dev not available, using fallback CSS animations:', motionError);
          // Las tarjetas seguirán funcionando con CSS puro
        }
      } catch (error) {
        console.error('❌ Error in initScrollAnimations:', error);
        console.log('🔄 Cards will work without motion animations');
      }
    }
  </script>

  <!-- JavaScript for Mobile Responsive Sidebar - Copiado de boletines.html -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const sidebar = document.querySelector('.porsche-sidebar');
      const overlay = document.querySelector('.sidenav-overlay');
      const menuToggle = document.querySelector('[sidenav-trigger]');
      const closeSidebarBtn = document.getElementById('closeSidebarBtn');

      let startX = 0;
      let currentX = 0;
      let isDragging = false;

      // Prevent body scroll when sidebar is open
      function preventBodyScroll(prevent) {
        if (prevent) {
          document.body.style.overflow = 'hidden';
          document.body.style.height = '100vh';
        } else {
          document.body.style.overflow = '';
          document.body.style.height = '';
        }
      }

      // Show sidebar
      function showSidebar() {
        if (sidebar) {
          sidebar.setAttribute('aria-expanded', 'true');
          sidebar.classList.add('sidenav-show');
          preventBodyScroll(true);
        }
        if (overlay) {
          overlay.classList.add('show');
        }
      }

      // Hide sidebar
      function hideSidebar() {
        if (sidebar) {
          sidebar.setAttribute('aria-expanded', 'false');
          sidebar.classList.remove('sidenav-show');
          preventBodyScroll(false);
        }
        if (overlay) {
          overlay.classList.remove('show');
        }
      }

      // Menu toggle button click
      if (menuToggle) {
        menuToggle.addEventListener('click', function (e) {
          e.preventDefault();
          e.stopPropagation();

          if (sidebar && sidebar.classList.contains('sidenav-show')) {
            hideSidebar();
          } else {
            showSidebar();
          }
        });
      }

      // Close button click
      if (closeSidebarBtn) {
        closeSidebarBtn.addEventListener('click', function (e) {
          e.preventDefault();
          e.stopPropagation();
          hideSidebar();
        });
      }

      // Overlay click
      if (overlay) {
        overlay.addEventListener('click', function () {
          hideSidebar();
        });
      }

      // Touch events for swipe gestures
      if (sidebar) {
        // Touch start
        sidebar.addEventListener('touchstart', function (e) {
          startX = e.touches[0].clientX;
          isDragging = true;
        }, { passive: true });

        // Touch move
        sidebar.addEventListener('touchmove', function (e) {
          if (!isDragging) return;
          currentX = e.touches[0].clientX;
          const deltaX = currentX - startX;

          // If swiping left more than 50px, close sidebar
          if (deltaX < -50) {
            hideSidebar();
            isDragging = false;
          }
        }, { passive: true });

        // Touch end
        sidebar.addEventListener('touchend', function () {
          isDragging = false;
        }, { passive: true });
      }

      // Escape key to close sidebar
      document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape' && sidebar && sidebar.classList.contains('sidenav-show')) {
          hideSidebar();
        }
      });

      // Prevent clicks inside sidebar from closing it
      if (sidebar) {
        sidebar.addEventListener('click', function (e) {
          e.stopPropagation();
        });
      }

      // Auto-hide sidebar on larger screens when needed
      function handleResize() {
        if (window.innerWidth >= 1280) {
          // Desktop - sidebar should be visible
          if (overlay) overlay.classList.remove('show');
          preventBodyScroll(false);
        }
      }

      window.addEventListener('resize', handleResize);
      handleResize(); // Call once on load
    });
  </script>

  <!-- SCRIPTS DE AUTENTICACIÓN Y FUNCIONALIDAD - Copiados de dashboard.html -->
  <script src="./js/auth-session.js"></script>
  <script src="./js/auth-fix.js"></script>

  <!-- Popper y Bootstrap -->
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="./assets/js/plugins/perfect-scrollbar.min.js" async></script>
  <script src="./assets/js/argon-dashboard-tailwind.js?v=1.0.1" async></script>

  <!-- SISTEMA DE AUTENTICACIÓN MEJORADO -->
  <script>
    // Configurar eventos para los botones de logout
    document.addEventListener('DOMContentLoaded', function () {
      // Botón de logout del sidebar
      const logoutBtn = document.getElementById('logoutBtn');
      if (logoutBtn) {
        logoutBtn.addEventListener('click', function () {
          if (window.authSessionManager) {
            window.authSessionManager.logout();
          } else if (window.logout) {
            window.logout();
          }
        });
      }

      /**
       * Sistema de autenticación completo basado en sesiones PHP
       * Copiado exactamente de boletines.html
       */

      // URL del endpoint de autenticación
      const AUTH_ENDPOINT = './api/auth/session.php';

      /**
       * Detectar y manejar la sesión del usuario
       */
      async function detectUserSession() {
        try {
          const response = await fetch(`${AUTH_ENDPOINT}?action=check`, {
            method: 'GET',
            credentials: 'include',
            headers: {
              'Content-Type': 'application/json',
            }
          });

          const result = await response.json();

          if (result.success && result.data) {
            displayUserInfo(result.data);
            return result.data;
          } else {
            showLoginPrompt();
            return null;
          }
        } catch (error) {
          console.error('Error al verificar sesión:', error);
          showLoginPrompt();
          return null;
        }
      }

      /**
       * Mostrar información del usuario en el sidebar
       */
      function displayUserInfo(userData) {
        const userSection = document.getElementById('userSection');
        const loginSection = document.getElementById('loginSection');
        const userEmail = document.getElementById('userEmail');
        const userName = document.getElementById('userName');
        const userCompany = document.getElementById('userCompany');

        if (userSection && loginSection) {
          // Mostrar datos del usuario
          if (userEmail) userEmail.textContent = userData.email || '';
          if (userName) userName.textContent = userData.nombre || '';
          if (userCompany) userCompany.textContent = userData.nombre_empresa || '';

          userSection.style.display = 'block';
          loginSection.style.display = 'none';
        }
      }

      /**
       * Mostrar formulario de login
       */
      function showLoginPrompt() {
        const userSection = document.getElementById('userSection');
        const loginSection = document.getElementById('loginSection');

        if (userSection && loginSection) {
          userSection.style.display = 'none';
          loginSection.style.display = 'block';
        }
      }

      // Inicializar detección de sesión al cargar la página
      setTimeout(detectUserSession, 300);

      // User Menu Functionality (Copiado de empresas-convenio.html)
      window.toggleUserMenu = function () {
        const dropdown = document.getElementById('userDropdown');
        dropdown.classList.toggle('hidden');
      };

      // Close dropdown when clicking outside
      document.addEventListener('click', function (event) {
        const userMenu = document.getElementById('userMenuBtn');
        const dropdown = document.getElementById('userDropdown');

        if (!userMenu.contains(event.target) && !dropdown.contains(event.target)) {
          dropdown.classList.add('hidden');
        }
      });

      // Logout functionality
      window.handleLogout = function () {
        if (confirm('¿Estás seguro de que deseas cerrar sesión?')) {
          // Clear user data
          localStorage.removeItem('userData');
          localStorage.removeItem('currentUser');
          sessionStorage.clear();

          // Redirect to login page
          window.location.href = './index.php';
        }
      };

      // Update user display info when user data is available
      window.updateUserDisplay = function (userData) {
        const userDisplayName = document.getElementById('userDisplayName');
        const dropdownUserName = document.getElementById('dropdownUserName');
        const dropdownUserRole = document.getElementById('dropdownUserRole');

        const nombre = userData.nombre || userData.name || 'Usuario';
        const rol = userData.rol || userData.role || 'Empleado';

        if (userDisplayName) userDisplayName.textContent = nombre;
        if (dropdownUserName) dropdownUserName.textContent = nombre;
        if (dropdownUserRole) dropdownUserRole.textContent = rol;
      };

      // Initialize user info from session storage
      function initializeUserInfo() {
        try {
          const userSession = localStorage.getItem('userSession') || sessionStorage.getItem('userSession');
          if (userSession) {
            const userData = JSON.parse(userSession);
            console.log('👤 Usuario encontrado en sesión:', userData);
            updateUserDisplay(userData);
            // También llamar displayUserInfo si existe
            if (window.displayUserInfo && typeof window.displayUserInfo === 'function') {
              window.displayUserInfo(userData);
            }
          } else {
            console.log('⚠️ No se encontró sesión de usuario');
            // Mantener texto por defecto "Usuario"
            updateUserDisplay({ nombre: 'Usuario', rol: 'Empleado' });
          }
        } catch (error) {
          console.error('Error al inicializar información de usuario:', error);
          updateUserDisplay({ nombre: 'Usuario', rol: 'Empleado' });
        }
      }

      // Inicializar información del usuario cuando el DOM esté listo
      initializeUserInfo();

      // Override the displayUserInfo function to also update navbar
      const originalDisplayUserInfo = window.displayUserInfo;
      window.displayUserInfo = function (userData) {
        if (originalDisplayUserInfo) {
          originalDisplayUserInfo(userData);
        }
        updateUserDisplay(userData);
      };
    });

    // Función para abrir el modal de evento (similar al patrón de boletines)
    function openEventModal(eventoId, eventoTitulo) {
      console.log(`🎬 Opening modal for event ID: ${eventoId}, Title: ${eventoTitulo}`);

      const modal = document.getElementById('eventModal');
      const iframe = document.getElementById('eventIframe');
      const titleElement = document.getElementById('modalEventTitle');

      if (!modal || !iframe) {
        console.error('❌ Modal elements not found');
        return;
      }

      // Construir la URL del iframe (similar a como se hace en boletines)
      const iframeUrl = `./evento_detalle.php?id=${eventoId}`;

      // Actualizar título y src del iframe
      if (titleElement) {
        titleElement.textContent = eventoTitulo || 'Detalles del Evento';
      }
      iframe.src = iframeUrl;

      // Mostrar modal con animación suave
      modal.classList.remove('hidden');

      // Prevent body scroll when modal is open
      document.body.style.overflow = 'hidden';

      console.log(`✅ Modal opened with URL: ${iframeUrl}`);
    }

    // Función para cerrar el modal de evento
    function closeEventModal() {
      console.log('🎬 Closing event modal');

      const modal = document.getElementById('eventModal');
      const iframe = document.getElementById('eventIframe');

      if (modal) {
        modal.classList.add('hidden');
      }

      // Clear iframe src to stop loading
      if (iframe) {
        iframe.src = '';
      }

      // Restore body scroll
      document.body.style.overflow = '';

      console.log('✅ Modal closed');
    }

    // Cerrar modal con tecla Escape
    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape') {
        closeEventModal();
      }
    });

    // Cerrar modal al hacer click en el fondo
    document.getElementById('eventModal')?.addEventListener('click', function (e) {
      if (e.target === this) {
        closeEventModal();
      }
    });
  </script>

  <!-- Sistema de Seguridad de Sesión -->
  <script src="./js/session-security.js"></script>

  <!-- GSAP ScrollTrigger for Image Animation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <script>
    // Inicializar sistema de seguridad con timeout de 5 minutos
    document.addEventListener('DOMContentLoaded', function () {
      // Configurar seguridad de sesión
      window.enableSessionSecurity();

      console.log('🔒 Sistema de seguridad de sesión activado:');
      console.log('   - Timeout de inactividad: 5 minutos');
      console.log('   - Verificación de sesión: cada 30 segundos');
      console.log('   - Detección de actividad: mouse, teclado, scroll, touch');

      // Initialize scroll image animation
      initializeScrollImageEffect();
    });

    // Scroll image effect initialization
    function initializeScrollImageEffect() {
      console.log('🎬 Initializing scroll image effect for eventos page...');

      // Register ScrollTrigger plugin
      gsap.registerPlugin(ScrollTrigger);

      // Set initial state of the image
      gsap.set('.image-motion', {
        transform: 'rotateX(90deg)',
        transformOrigin: '50% 0'
      });

      // Animate the image on scroll
      gsap.to('.image-motion', {
        transform: 'rotateX(0deg)',
        scrollTrigger: {
          trigger: '.section2',
          start: 'top bottom',
          end: 'bottom top',
          scrub: true,
          markers: false,
          onUpdate: function (self) {
            // Optional: log progress for debugging
            // console.log('Scroll progress:', self.progress);
          }
        },
        ease: 'none'
      });

      // Animate title and subtitle in section3
      gsap.fromTo('.title', {
        opacity: 0,
        y: 50,
      }, {
        opacity: 1,
        y: 0,
        duration: 1,
        ease: 'power3.out',
        scrollTrigger: {
          trigger: '.section3',
          start: 'top 80%',
          end: 'bottom 20%',
          toggleActions: 'play none none reverse'
        }
      });

      gsap.fromTo('.subtitle', {
        opacity: 0,
        y: 30,
      }, {
        opacity: 1,
        y: 0,
        duration: 0.8,
        delay: 0.3,
        ease: 'power3.out',
        scrollTrigger: {
          trigger: '.section3',
          start: 'top 80%',
          end: 'bottom 20%',
          toggleActions: 'play none none reverse'
        }
      });

      // Animate text paragraphs
      gsap.fromTo('.text', {
        opacity: 0,
        y: 30,
      }, {
        opacity: 1,
        y: 0,
        stagger: 0.2,
        duration: 0.8,
        delay: 0.6,
        ease: 'power3.out',
        scrollTrigger: {
          trigger: '.text-content',
          start: 'top 85%',
          end: 'bottom 20%',
          toggleActions: 'play none none reverse'
        }
      });

      console.log('✅ Scroll image effect initialized successfully');
    }
  </script>
</body>

</html>