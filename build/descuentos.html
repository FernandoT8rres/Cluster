<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png" />
  <link rel="icon" type="image/png" href="./assets/img/favicon.png" />
  <title>Cl√∫ster Intranet</title>
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <!-- Font Awesome Icons - Multiple sources for reliability -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.1/css/all.css" />
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous" defer></script>

  <!-- Porsche-inspired Typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Nucleo Icons -->
  <link href="./assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="./assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Popper -->
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <!-- Main Styling -->
  <link href="./assets/css/argon-dashboard-tailwind.css?v=1.0.1" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'cl√∫ster-red': '#C7252B',
            'cl√∫ster-red-dark': '#A31E23',
            'cl√∫ster-red-light': '#E8434A',
            'cl√∫ster-gray': '#F5F5F7',
            'cl√∫ster-dark': '#1D1D1F'
          },
          fontFamily: {
            'inter': ['Inter', 'sans-serif']
          }
        }
      }
    }
  </script>
  <style>
    /* Porsche-inspired Design System */
    :root {
      /* Primary Colors - Inspired by Porsche */
      --porsche-black: #1a1a1a;
      --porsche-charcoal: #2d2d2d;
      --porsche-silver: #8a8a8a;
      --porsche-white: #ffffff;
      --porsche-light-gray: #f5f5f5;
      --porsche-accent: #c9302c;
      /* Cl√∫ster red for brand consistency */

      /* Typography */
      --porsche-font: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --porsche-font-weight-light: 300;
      --porsche-font-weight-regular: 400;
      --porsche-font-weight-medium: 500;
      --porsche-font-weight-semibold: 600;
      --porsche-font-weight-bold: 700;

      /* Spacing */
      --porsche-space-xs: 0.5rem;
      --porsche-space-sm: 1rem;
      --porsche-space-md: 1.5rem;
      --porsche-space-lg: 2rem;
      --porsche-space-xl: 3rem;

      /* Shadows */
      --porsche-shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.06);
      --porsche-shadow-medium: 0 4px 12px rgba(0, 0, 0, 0.08);
      --porsche-shadow-large: 0 8px 32px rgba(0, 0, 0, 0.12);

      /* Border Radius */
      --porsche-radius-sm: 4px;
      --porsche-radius-md: 8px;
      --porsche-radius-lg: 12px;
      --porsche-radius-xl: 16px;
    }

    /* Global Typography Enhancement */
    * {
      font-family: var(--porsche-font) !important;
    }

    body {
      font-weight: var(--porsche-font-weight-regular);
      line-height: 1.6;
      letter-spacing: -0.01em;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* Anti-scroll horizontal rules */
    html,
    body {
      overflow-x: hidden !important;
      max-width: 100vw !important;
    }

    * {
      box-sizing: border-box !important;
    }

    .main-content,
    .container,
    .row,
    .col {
      overflow-x: hidden !important;
      max-width: 100% !important;
    }






    /* FontAwesome fixes */
    .fa,
    .fas,
    .far,
    .fal,
    .fab {
      font-family: "Font Awesome 6 Free", "Font Awesome 6 Pro", "FontAwesome" !important;
      font-weight: 900 !important;
      font-style: normal !important;
      display: inline-block !important;
      text-rendering: auto !important;
      -webkit-font-smoothing: antialiased !important;
    }

    /* Fallback for specific icons */
    .fa-home::before {
      content: "\f015" !important;
    }

    .fa-calendar-alt::before {
      content: "\f073" !important;
    }

    .fa-file-alt::before {
      content: "\f15c" !important;
    }

    .fa-newspaper::before {
      content: "\f1ea" !important;
    }

    .fa-users::before {
      content: "\f0c0" !important;
    }

    .fa-headset::before {
      content: "\f590" !important;
    }

    .fa-handshake::before {
      content: "\f2b5" !important;
    }

    .fa-tags::before {
      content: "\f02c" !important;
    }

    .fa-user::before {
      content: "\f007" !important;
    }

    .fa-sign-out-alt::before {
      content: "\f2f5" !important;
    }

    /* Navbar improvements */
    .porsche-navbar {
      background: rgba(26, 26, 26, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: var(--porsche-space-sm) var(--porsche-space-lg);
      border-radius: var(--porsche-radius-lg);
      margin: var(--porsche-space-sm);
      z-index: 50;
      position: relative;
    }

    /* Main content area adjustments */
    .main-content {
      margin-left: 0;
      transition: margin-left 0.3s ease;
      background: transparent;
      width: 100%;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* Ensure main container doesn't cause horizontal scroll */
    main {
      overflow-x: hidden;
    }

    /* Breadcrumb styling */
    .breadcrumb {
      background: transparent !important;
      padding: var(--porsche-space-sm) 0;
    }

    .breadcrumb a {
      color: var(--porsche-white) !important;
      opacity: 0.8 !important;
      text-decoration: none;
      transition: opacity 0.3s ease;
    }

    .breadcrumb a:hover {
      opacity: 1 !important;
    }

    .breadcrumb li {
      color: var(--porsche-white) !important;
      font-weight: var(--porsche-font-weight-medium);
    }

    .breadcrumb .breadcrumb-title {
      color: white !important;
      font-weight: var(--porsche-font-weight-bold);
      margin-top: var(--porsche-space-xs);
    }

    /* Porsche-inspired Card System for Descuentos */
    .porsche-card {
      background: var(--porsche-white);
      border-radius: var(--porsche-radius-lg);
      box-shadow: var(--porsche-shadow-medium);
      border: 1px solid rgba(0, 0, 0, 0.04);
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      position: relative;
      overflow: visible;
      perspective: 1000px;
    }

    .porsche-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--porsche-accent), var(--porsche-charcoal));
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .porsche-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--porsche-shadow-large);
    }

    .porsche-card:hover::before {
      opacity: 1;
    }

    /* Estilos para efecto flip en tarjetas de descuentos */
    .descuento-card {
      min-height: auto;
      height: auto;
    }

    .descuento-front,
    .descuento-back {
      transition: all 0.6s ease;
      backface-visibility: hidden;
    }

    .descuento-back {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    }

    .descuento-card:hover .descuento-front {
      opacity: 0;
      transform: scale(0.8);
    }

    .descuento-card:hover .descuento-back {
      opacity: 1;
      transform: scale(1);
    }

    /* Permitir que el texto se envuelva dentro de las tarjetas */
    .descuento-card h3,
    .descuento-card h4,
    .descuento-card p {
      white-space: normal !important;
      word-wrap: break-word !important;
      overflow-wrap: break-word !important;
    }

    .descuento-front,
    .descuento-back {
      white-space: normal !important;
    }

    /* Estilos para secciones bloqueadas */
    .restricted-section {
      position: relative;
      filter: blur(3px);
      pointer-events: none;
      user-select: none;
    }

    .restricted-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      border-radius: inherit;
      backdrop-filter: blur(5px);
    }

    .restricted-message {
      background: white;
      padding: 2rem;
      border-radius: 1rem;
      text-align: center;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      max-width: 300px;
    }

    /* Content styling improvements */
    .descuentos-content {
      background: transparent;
    }

    .descuentos-info-card {
      background: var(--porsche-white);
      border-radius: var(--porsche-radius-lg);
      box-shadow: var(--porsche-shadow-medium);
    }

    /* Estilos para la animaci√≥n horizontal de descuentos */
    .animation-controls .control-btn {
      padding: 10px 20px;
      background: rgba(201, 48, 44, 0.2);
      border: none;
      border-radius: 25px;
      color: #c9302c;
      font-weight: bold;
      cursor: pointer;
      backdrop-filter: blur(5px);
      transition: all 0.3s ease;
      font-size: 14px;
    }

    .animation-controls .control-btn:hover {
      background: rgba(201, 48, 44, 0.3);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(201, 48, 44, 0.2);
    }

    .speed-indicator-discount {
      color: #c9302c;
      font-size: 16px;
      font-weight: 600;
      background: rgba(201, 48, 44, 0.1);
      padding: 8px 16px;
      border-radius: 20px;
      display: inline-block;
    }

    .discount-container {
      position: relative;
      width: 100%;
      overflow: hidden;
    }

    .discount-stream {
      position: absolute;
      width: 100vw;
      height: 100%;
      display: flex;
      align-items: center;
    }

    .discount-line {
      display: flex;
      align-items: center;
      gap: 2rem;
      white-space: nowrap;
      cursor: grab;
      user-select: none;
      will-change: transform;
    }

    .discount-line:active {
      cursor: grabbing;
    }

    .discount-line.dragging {
      cursor: grabbing;
    }

    /* Wrapper para cada tarjeta de descuento */
    .discount-card-wrapper {
      position: relative;
      width: 350px;
      flex-shrink: 0;
    }

    /* Asegurar que las tarjetas mantengan su dise√±o original */
    .discount-card-wrapper .descuento-card {
      width: 100%;
      min-height: auto;
      height: auto;
    }

    #discountParticleCanvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }

    /* ========== NAVIGATION STYLES FROM DASHBOARD ========== */

    /* Variables CSS para navegaci√≥n */
    :root {
      --header-height: 70px;
      --claut-red: #C7252B;
      --claut-red-rgb: 199, 37, 43;
      --claut-text-primary: #ffffff;
      --claut-text-secondary: rgba(255, 255, 255, 0.8);
      --claut-text-tertiary: rgba(255, 255, 255, 0.6);
      --claut-bg-main: #1a1a1a;
      --claut-bg-surface: rgba(26, 26, 26, 0.95);
      --claut-bg-nav: rgba(26, 26, 26, 0.98);
      --claut-border-light: rgba(255, 255, 255, 0.1);
      --claut-border-medium: rgba(255, 255, 255, 0.15);
      --claut-shadow-red: 0 4px 12px rgba(var(--claut-red-rgb), 0.3);
      --transition-fast: all 0.2s cubic-bezier(0.23, 1, 0.32, 1);
      --transition-normal: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
      --space-2: 0.5rem;
      --space-3: 0.75rem;
      --space-4: 1rem;
      --space-6: 1.5rem;
      --space-8: 2rem;
      --space-12: 3rem;
    }

    /* Header Horizontal Premium con Men√∫ Integrado */
    .claut-header {
      position: fixed !important;
      top: 0 !important;
      left: 0;
      right: 0;
      height: var(--header-height);
      background: var(--claut-bg-surface);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--claut-border-light);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--space-6);
      z-index: 9999;
      transition: var(--transition-normal);
      box-shadow:
        0 1px 3px rgba(0, 0, 0, 0.2),
        0 4px 12px rgba(0, 0, 0, 0.15),
        0 0 0 1px rgba(255, 255, 255, 0.05) inset;
      will-change: transform, backdrop-filter;
      transform: translateY(0px) !important;
    }

    /* Header scroll effects */
    .claut-header.scrolled {
      background: rgba(26, 26, 26, 0.98) !important;
      box-shadow:
        0 2px 8px rgba(0, 0, 0, 0.4),
        0 8px 24px rgba(0, 0, 0, 0.25),
        0 0 0 1px rgba(255, 255, 255, 0.1) inset;
      backdrop-filter: blur(25px) !important;
      -webkit-backdrop-filter: blur(25px) !important;
      position: fixed !important;
      top: 0 !important;
    }

    /* Logo area - usando el logo existente del sidebar */
    .claut-header-logo {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      font-weight: 700;
      font-size: 1.25rem;
      color: var(--claut-text-primary);
      text-decoration: none;
      padding: var(--space-2) var(--space-3);
      border-radius: 12px;
      transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
      position: relative;
      overflow: hidden;
    }

    .claut-header-logo:hover {
      color: var(--claut-red);
      background: rgba(var(--claut-red-rgb, 199, 37, 43), 0.08);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(var(--claut-red-rgb, 199, 37, 43), 0.15);
    }

    .claut-header-logo:hover img {
      transform: scale(1.05) rotate(2deg);
      filter: brightness(1.1);
    }

    .claut-header-logo img {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* Navegaci√≥n horizontal principal */
    .claut-header-nav {
      display: none;
      flex: 1;
      justify-content: center;
      align-items: center;
      gap: var(--space-2);
      padding: 0 var(--space-6);
    }

    .claut-nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      padding: var(--space-2) var(--space-3);
      text-decoration: none;
      color: var(--claut-text-tertiary);
      border-radius: 12px;
      transition: var(--transition-normal);
      position: relative;
      min-width: 60px;
      text-align: center;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .claut-nav-item i {
      font-size: 18px;
      margin-bottom: 2px;
      transition: var(--transition-fast);
    }

    .claut-nav-item span {
      font-size: 11px;
      font-weight: 600;
      line-height: 1;
      transition: var(--transition-fast);
      opacity: 0.9;
    }

    .claut-nav-item:hover {
      color: var(--claut-text-secondary);
      background: rgba(255, 255, 255, 0.05);
      transform: translateY(-2px);
    }

    .claut-nav-item:hover i {
      color: var(--claut-red);
      transform: scale(1.1);
    }

    .claut-nav-item.active {
      color: var(--claut-red);
      background: rgba(var(--claut-red-rgb), 0.1);
      box-shadow: var(--claut-shadow-red);
    }

    .claut-nav-item.active i {
      color: var(--claut-red);
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }

    .claut-nav-item.active span {
      color: white;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }

    /* Actions area */
    .claut-header-actions {
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }

    .claut-header-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--claut-border-light);
      border-radius: 10px;
      color: var(--claut-text-tertiary);
      cursor: pointer;
      transition: all var(--transition-fast);
      position: relative;
    }

    .claut-header-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 1);
      transform: scale(1.05);
    }

    .claut-header-btn.active {
      background: var(--claut-red);
      color: var(--claut-text-primary);
      box-shadow: var(--claut-shadow-red);
    }

    /* Responsive navigation */
    @media (min-width: 768px) {
      .claut-header-nav {
        display: flex;
      }
    }

    /* Mobile menu button */
    @media (max-width: 767px) {
      .claut-mobile-menu-btn {
        display: flex !important;
      }

      .claut-header-nav {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--claut-bg-nav);
        border-top: 1px solid var(--claut-border-light);
        flex-direction: column;
        padding: var(--space-4);
        gap: var(--space-2);
        transform: translateY(-10px);
        opacity: 0;
        visibility: hidden;
        transition: all var(--transition-normal);
      }

      .claut-header-nav.show {
        transform: translateY(0);
        opacity: 1;
        visibility: visible;
      }
    }

    /* Men√∫ curvo animado en la parte inferior */
    .claut-bottom-nav {
      position: fixed !important;
      bottom: 0 !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      width: 95% !important;
      max-width: 600px !important;
      height: 70px !important;
      background: var(--claut-bg-surface) !important;
      border-radius: 35px 35px 0 0 !important;
      border: 1px solid var(--claut-border-medium) !important;
      border-bottom: none !important;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3), 0 -8px 40px rgba(0, 0, 0, 0.2) !important;
      backdrop-filter: blur(20px) !important;
      -webkit-backdrop-filter: blur(20px) !important;
      margin: 0 !important;
      padding: 0 !important;
    }

    .claut-bottom-nav::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 100%;
      background: linear-gradient(180deg, var(--claut-bg-surface) 0%, var(--claut-bg-secondary) 100%);
      opacity: 0.8;
      z-index: -1;
    }

    .claut-nav-container {
      position: relative !important;
      width: 100% !important;
      height: 100% !important;
      display: flex !important;
      align-items: center !important;
      justify-content: space-evenly !important;
      padding: 0 8px !important;
      box-sizing: border-box !important;
      overflow-x: auto !important;
      scrollbar-width: none !important;
      -ms-overflow-style: none !important;
    }

    .claut-nav-container::-webkit-scrollbar {
      display: none !important;
    }

    .claut-nav-link {
      position: relative !important;
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      justify-content: center !important;
      width: 48px !important;
      height: 48px !important;
      text-decoration: none !important;
      color: var(--claut-text-tertiary) !important;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
      border-radius: 50% !important;
      z-index: 2 !important;
      flex: 0 0 auto !important;
      margin: 0 2px !important;
    }

    .claut-nav-link i {
      font-size: 18px;
      transition: all 0.3s ease;
    }

    .claut-nav-link span {
      font-size: 9px;
      margin-top: 1px;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .claut-nav-link.active {
      color: var(--claut-red);
      transform: translateY(-10px);
    }

    .claut-nav-link.active i {
      color: var(--claut-red);
      transform: scale(1.2);
    }

    .claut-nav-link.active span {
      opacity: 1;
      transform: translateY(0);
      color: var(--claut-red);
    }

    .claut-nav-link:hover {
      color: var(--claut-text-secondary);
      transform: translateY(-5px) scale(1.05);
    }

    .claut-nav-link:hover i {
      color: var(--claut-red);
      transform: scale(1.15);
    }

    .claut-nav-link:hover span {
      opacity: 0.8;
      transform: translateY(-2px);
    }

    /* Elemento curva decorativo */
    .claut-nav-curve {
      position: absolute;
      top: -15px;
      left: 50%;
      transform: translateX(-50%) scale(0);
      width: 60px;
      height: 60px;
      background: var(--claut-red);
      border-radius: 50%;
      opacity: 0.2;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      z-index: 0;
    }

    .claut-nav-link.active~.claut-nav-curve {
      transform: translateX(-50%) scale(1);
    }

    /* Responsivo */
    @media (max-width: 768px) {
      .claut-bottom-nav {
        width: 95%;
        height: 65px;
      }

      .claut-nav-link {
        width: 55px;
        height: 55px;
      }

      .claut-nav-link i {
        font-size: 20px;
      }
    }

    /* Ajuste para el contenido principal para evitar superposici√≥n con el men√∫ inferior */
    .main-content {
      padding-bottom: 90px;
    }

    /* Navbar improvements */
    .porsche-navbar {
      background: rgba(26, 26, 26, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: var(--porsche-space-sm) var(--porsche-space-lg);
      border-radius: var(--porsche-radius-lg);
      margin: var(--porsche-space-sm);
      z-index: 50;
      position: relative;
    }

    /* Control de visibilidad entre header y bottom nav */
    @media (max-width: 1024px) {
      .claut-header-nav {
        display: none !important;
      }

      .claut-bottom-nav {
        display: flex !important;
      }

      /* Mantener los botones de acci√≥n del header visibles */
      .claut-header-actions {
        display: flex !important;
      }

      /* Ajustar el header para que sea m√°s compacto en mobile */
      .claut-header {
        padding: 0 var(--space-4) !important;
      }
    }

    @media (min-width: 1025px) {
      .claut-header-nav {
        display: flex !important;
      }

      .claut-bottom-nav {
        display: none !important;
      }

      .claut-header-actions {
        display: flex !important;
      }
    }

    /* ===== COMPREHENSIVE RESPONSIVE DESIGN ===== */

    /* Extra Large Desktop (1400px+) */
    @media (min-width: 1400px) {
      .claut-header {
        max-width: 1400px;
        margin: 0 auto;
      }

      .main-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .porsche-navbar {
        padding-left: 2rem;
        padding-right: 2rem;
      }

      .discount-container {
        height: 500px !important;
      }

      .discount-line {
        gap: 3rem !important;
      }

      .descuentos-info-card {
        padding: 3rem !important;
      }

      .text-2xl {
        font-size: 3rem !important;
      }

      .grid.grid-cols-1.md\\:grid-cols-2 {
        grid-template-columns: repeat(3, 1fr) !important;
      }
    }

    /* Large Desktop (1200px - 1399px) */
    @media (min-width: 1200px) and (max-width: 1399px) {
      .main-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
      }

      .porsche-navbar {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
      }

      .discount-container {
        height: 450px !important;
      }

      .discount-line {
        gap: 2.5rem !important;
      }

      .descuentos-info-card {
        padding: 2.5rem !important;
      }

      .text-2xl {
        font-size: 2.5rem !important;
      }
    }

    /* Standard Desktop (1024px - 1199px) */
    @media (min-width: 1024px) and (max-width: 1199px) {
      .main-content {
        padding: 0 1.5rem;
      }

      .porsche-navbar {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
      }

      .discount-container {
        height: 400px !important;
      }

      .discount-line {
        gap: 2rem !important;
      }

      .descuentos-info-card {
        padding: 2rem !important;
      }

      .text-2xl {
        font-size: 2.25rem !important;
      }

      .breadcrumb {
        margin-right: 2rem !important;
      }
    }

    /* Tablet Landscape (768px - 1023px) */
    @media (min-width: 768px) and (max-width: 1023px) {
      .main-content {
        padding: 0 1rem;
        margin-top: 80px;
      }

      .porsche-navbar {
        padding-left: 1rem;
        padding-right: 1rem;
        flex-direction: column;
        gap: 1rem;
      }

      .porsche-navbar .flex.items-center.justify-between {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
      }

      .breadcrumb {
        text-align: center;
        margin: 0 !important;
      }

      .breadcrumb-title {
        text-align: center;
      }

      .discount-container {
        height: 350px !important;
        margin: 0 -1rem;
      }

      .discount-line {
        gap: 1.5rem !important;
      }

      .descuentos-info-card {
        padding: 1.5rem !important;
        margin: 0 0.5rem;
      }

      .text-2xl {
        font-size: 2rem !important;
        text-align: center;
      }

      .mb-6.text-center.mb-12 {
        margin-bottom: 2rem !important;
        padding: 0 1rem;
      }

      .grid.grid-cols-1.md\\:grid-cols-2 {
        grid-template-columns: 1fr !important;
        gap: 2rem !important;
      }

      /* User menu adjustments */
      .hidden.sm\\:inline {
        display: none !important;
      }

      #userMenuBtn {
        padding: 0.5rem !important;
        width: auto;
      }

      #userDropdown {
        right: 0;
        left: auto;
        transform: translateX(0);
        width: 200px;
      }
    }

    /* Tablet Portrait (640px - 767px) */
    @media (min-width: 640px) and (max-width: 767px) {
      body {
        padding-bottom: 120px !important;
      }

      .main-content {
        padding: 0 0.75rem;
        margin-top: 90px;
      }

      .claut-header {
        padding: 0 0.75rem;
        height: 80px;
      }

      .claut-header-logo img {
        height: 35px;
      }

      .porsche-navbar {
        display: none !important;
        /* Hide desktop navbar */
      }

      .discount-container {
        height: 300px !important;
        margin: 0 -0.75rem;
      }

      .discount-line {
        gap: 1rem !important;
      }

      .descuentos-info-card {
        padding: 1.25rem !important;
        margin: 0 0.25rem;
        border-radius: 0.75rem;
      }

      .text-2xl {
        font-size: 1.75rem !important;
        text-align: center;
        line-height: 1.3;
      }

      .mb-6.text-center.mb-12 {
        margin-bottom: 1.5rem !important;
        padding: 0 0.75rem;
      }

      .mb-6.text-center.mb-12 p {
        font-size: 0.95rem;
        line-height: 1.4;
      }

      .grid.grid-cols-1.md\\:grid-cols-2 {
        grid-template-columns: 1fr !important;
        gap: 1.5rem !important;
      }

      .descuentos-info-card h2 {
        font-size: 1.2rem;
      }

      .descuentos-info-card h3 {
        font-size: 1rem;
      }

      /* Show mobile bottom nav */
      .claut-bottom-nav {
        display: block !important;
      }
    }

    /* Mobile Large (480px - 639px) */
    @media (min-width: 480px) and (max-width: 639px) {
      body {
        padding-bottom: 100px !important;
      }

      .main-content {
        padding: 0 0.5rem;
        margin-top: 80px;
      }

      .claut-header {
        padding: 0 0.5rem;
        height: 70px;
      }

      .claut-header-logo img {
        height: 30px;
      }

      .claut-header-actions {
        display: none !important;
      }

      .porsche-navbar {
        display: none !important;
      }

      .discount-container {
        height: 250px !important;
        margin: 0 -0.5rem;
        border-radius: 0.5rem;
      }

      .discount-line {
        gap: 0.75rem !important;
      }

      .descuentos-info-card {
        padding: 1rem !important;
        margin: 0;
        border-radius: 0.5rem;
      }

      .text-2xl {
        font-size: 1.5rem !important;
        text-align: center;
        line-height: 1.3;
        margin-bottom: 0.75rem;
      }

      .mb-6.text-center.mb-12 {
        margin-bottom: 1rem !important;
        padding: 0 0.5rem;
      }

      .mb-6.text-center.mb-12 p {
        font-size: 0.9rem;
        line-height: 1.4;
      }

      .grid.grid-cols-1.md\\:grid-cols-2 {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
      }

      .descuentos-info-card h2 {
        font-size: 1.1rem;
        margin-bottom: 0.75rem;
      }

      .descuentos-info-card h3 {
        font-size: 0.95rem;
        margin-bottom: 0.5rem;
      }

      .descuentos-info-card ul li {
        font-size: 0.85rem;
        line-height: 1.4;
      }

      .descuentos-info-card p {
        font-size: 0.85rem;
        line-height: 1.4;
      }

      /* Show mobile bottom nav */
      .claut-bottom-nav {
        display: block !important;
        height: 60px !important;
        max-width: 95% !important;
      }

      .claut-nav-link {
        width: 40px !important;
        height: 40px !important;
      }

      .claut-nav-link i {
        font-size: 1rem !important;
      }
    }

    /* Mobile Small (320px - 479px) */
    @media (max-width: 479px) {
      body {
        padding-bottom: 90px !important;
      }

      .main-content {
        padding: 0 0.25rem;
        margin-top: 70px;
      }

      .claut-header {
        padding: 0 0.25rem;
        height: 60px;
      }

      .claut-header-logo {
        flex-shrink: 0;
      }

      .claut-header-logo img {
        height: 25px;
      }

      .claut-header-actions {
        display: none !important;
      }

      .claut-header-nav {
        display: none !important;
      }

      .porsche-navbar {
        display: none !important;
      }

      .discount-container {
        height: 200px !important;
        margin: 0 -0.25rem;
        border-radius: 0.375rem;
      }

      .discount-line {
        gap: 0.5rem !important;
      }

      .descuentos-info-card {
        padding: 0.75rem !important;
        margin: 0;
        border-radius: 0.375rem;
      }

      .text-2xl {
        font-size: 1.25rem !important;
        text-align: center;
        line-height: 1.2;
        margin-bottom: 0.5rem;
      }

      .mb-6.text-center.mb-12 {
        margin-bottom: 0.75rem !important;
        padding: 0 0.25rem;
      }

      .mb-6.text-center.mb-12 h1 {
        margin-bottom: 0.5rem;
      }

      .mb-6.text-center.mb-12 p {
        font-size: 0.8rem;
        line-height: 1.3;
      }

      .grid.grid-cols-1.md\\:grid-cols-2 {
        grid-template-columns: 1fr !important;
        gap: 0.75rem !important;
      }

      .descuentos-info-card h2 {
        font-size: 1rem;
        margin-bottom: 0.5rem;
      }

      .descuentos-info-card h3 {
        font-size: 0.9rem;
        margin-bottom: 0.4rem;
      }

      .descuentos-info-card ul li {
        font-size: 0.8rem;
        line-height: 1.3;
        margin-bottom: 0.25rem;
      }

      .descuentos-info-card p {
        font-size: 0.8rem;
        line-height: 1.3;
        margin-bottom: 0.5rem;
      }

      .descuentos-info-card .fas.fa-info-circle {
        font-size: 1.25rem;
        margin-right: 0.5rem;
      }

      .descuentos-info-card .flex.items-center {
        margin-bottom: 0.75rem;
      }

      /* Show mobile bottom nav */
      .claut-bottom-nav {
        display: block !important;
        height: 50px !important;
        max-width: 98% !important;
        border-radius: 25px 25px 0 0 !important;
      }

      .claut-nav-link {
        width: 35px !important;
        height: 35px !important;
      }

      .claut-nav-link i {
        font-size: 0.9rem !important;
      }

      .claut-nav-link span {
        font-size: 0.65rem !important;
      }
    }

    /* Landscape orientation adjustments for mobile */
    @media (max-width: 767px) and (orientation: landscape) {
      .discount-container {
        height: 150px !important;
      }

      .text-2xl {
        font-size: 1.25rem !important;
        margin-bottom: 0.5rem !important;
      }

      .mb-6.text-center.mb-12 {
        margin-bottom: 0.5rem !important;
      }

      .descuentos-info-card {
        padding: 0.75rem !important;
      }

      body {
        padding-bottom: 70px !important;
      }

      .claut-bottom-nav {
        height: 45px !important;
      }
    }

    /* High DPI displays optimization */
    @media (-webkit-min-device-pixel-ratio: 2),
    (min-resolution: 192dpi) {
      .claut-header-logo img {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
      }

      #discountParticleCanvas {
        image-rendering: pixelated;
      }
    }

    /* Touch device optimizations */
    @media (pointer: coarse) {

      .claut-nav-link,
      button,
      .discount-card {
        min-height: 44px;
        min-width: 44px;
        touch-action: manipulation;
      }

      .claut-nav-link:hover {
        background-color: rgba(199, 37, 43, 0.1);
      }
    }

    /* Print styles */
    @media print {

      .claut-header,
      .claut-bottom-nav,
      .porsche-navbar,
      #discountParticleCanvas {
        display: none !important;
      }

      body {
        padding: 0 !important;
        margin: 0 !important;
      }

      .main-content {
        margin: 0 !important;
        padding: 1rem !important;
      }

      .discount-container {
        height: auto !important;
        overflow: visible !important;
      }

      .descuentos-info-card {
        break-inside: avoid;
        page-break-inside: avoid;
      }
    }

    /* Reduced motion preferences */
    @media (prefers-reduced-motion: reduce) {

      .discount-stream,
      .discount-line,
      .transition-all,
      .duration-200,
      .duration-250 {
        transition: none !important;
        animation: none !important;
      }

      #discountParticleCanvas {
        display: none !important;
      }
    }

    /* Dark mode adjustments */
    @media (prefers-color-scheme: dark) {
      .descuentos-info-card {
        background-color: #1f2937;
        color: #f9fafb;
        border-color: #374151;
      }

      .text-gray-800 {
        color: #f9fafb !important;
      }

      .text-gray-700 {
        color: #d1d5db !important;
      }

      .text-gray-600 {
        color: #9ca3af !important;
      }

      .bg-white {
        background-color: #1f2937 !important;
      }
    }
  </style>
</head>

<body
  class="m-0 font-sans text-base antialiased font-normal dark:bg-slate-900 leading-default text-slate-500 overflow-x-hidden">

  <!-- Header Horizontal Premium con Men√∫ Integrado -->
  <header class="claut-header">
    <!-- Logo area con logo existente -->
    <a href="#" class="claut-header-logo">
      <img src="./assets/img/apple-icon.png" alt="Cl√∫ster Logo" />
    </a>

    <!-- Navegaci√≥n horizontal principal -->
    <nav class="claut-header-nav" id="clautMainNav">
      <a href="dashboard.html" class="claut-nav-item">
        <i class="fas fa-home text-white"></i>
        <span class="text-white">Inicio</span>
      </a>
      <a href="./descuentos.html" class="claut-nav-item">
        <i class="fas fa-tags text-white"></i>
        <span class="text-white">Descuentos</span>
      </a>
      <a href="./boletines.html" class="claut-nav-item">
        <i class="fas fa-newspaper text-white"></i>
        <span class="text-white">Boletines</span>
      </a>
      <a href="./comites.html" class="claut-nav-item active">
        <i class="fas fa-users text-white"></i>
        <span class="text-white">Comites</span>
      </a>
      <a href="./contacto.html" class="claut-nav-item">
        <i class="fas fa-headset text-white"></i>
        <span class="text-white">Contacto</span>
      </a>
      <a href="./eventos.html" class="claut-nav-item">
        <i class="fas fa-calendar-alt text-white"></i>
        <span class="text-white">Eventos</span>
      </a>
      <a href="./empresas-convenio.html" class="claut-nav-item">
        <i class="fas fa-handshake text-white"></i>
        <span class="text-white">Socios</span>
      </a>
    </nav>

    <!-- Actions area -->
    <div class="claut-header-actions">


      <!-- Men√∫ usuario -->
      <div class="relative">
        <a href="./profile.html" class="claut-header-btn" id="headerUserMenuBtn" title="Mi cuenta">
          <i class="fas fa-user-circle text-lg"></i>
        </a>
      </div>
    </div>
  </header>

  <!-- end header -->

  <main class="relative h-full transition-all duration-200 ease-in-out rounded-xl overflow-x-hidden"
    style="margin-top: 70px; margin-left: 0; padding-bottom: 100px; min-height: 100vh;">
    <!-- Contenido principal con restricci√≥n de autenticaci√≥n -->
    <div id="mainContent" class="">
      <!-- Navbar -->
      <nav
        class="porsche-navbar relative flex flex-wrap items-center justify-between px-0 py-2 mx-0 transition-all ease-in shadow-none duration-250 rounded-2xl lg:flex-nowrap lg:justify-start"
        navbar-main navbar-scroll="false">
        <div class="flex items-center justify-between w-full px-4 py-1 mx-auto flex-wrap-inherit">
          <nav>
            <!-- breadcrumb -->
            <ol class="breadcrumb flex flex-wrap pt-1 mr-12 bg-transparent rounded-lg sm:mr-16">
              <li class="text-sm leading-normal">
                <a class="text-white opacity-50" href="javascript:;">Intranet</a>
              </li>
              <li
                class="text-sm pl-2 capitalize leading-normal text-white before:float-left before:pr-2 before:text-white before:content-['/']"
                aria-current="page">Descuentos</li>
            </ol>
            <h6 class="breadcrumb-title mb-0 font-bold text-white capitalize">Descuentos</h6>
          </nav>

          <div class="flex items-center mt-2 grow sm:mt-0 sm:mr-6 md:mr-0 lg:flex lg:basis-auto">
            <div class="flex items-center md:ml-auto md:pr-4">
              <ul class="flex flex-row justify-end pl-0 mb-0 list-none md-max:w-full">
                <!-- User Dropdown Menu -->
                <li class="flex items-center relative">
                  <div class="relative">
                    <button
                      class="flex items-center px-3 py-1 text-sm font-bold text-white transition-all bg-transparent border border-solid rounded-lg shadow-none cursor-pointer leading-pro ease-soft-in border-white/20 bg-white/10 hover:scale-102 hover:border-white/40 active:opacity-85"
                      onclick="toggleUserMenu()" id="userMenuBtn">
                      <i class="fas fa-user text-white mr-2"></i>
                      <span class="hidden sm:inline text-white" id="userDisplayName">Usuario</span>
                      <i class="fas fa-chevron-down text-white ml-2 text-xs"></i>
                    </button>
                    <!-- User Dropdown -->
                    <div
                      class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50 hidden"
                      id="userDropdown" style="top: 100%;">
                      <div class="px-4 py-2 border-b border-gray-200">
                        <p class="text-sm font-medium text-gray-900" id="dropdownUserName">Usuario</p>
                        <p class="text-xs text-gray-500" id="dropdownUserRole">Rol</p>
                      </div>
                      <a href="profile.html"
                        class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                        <i class="fas fa-user-circle mr-3 text-gray-400"></i>
                        Mi Perfil
                      </a>
                      <button onclick="handleLogout()"
                        class="w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50">
                        <i class="fas fa-sign-out-alt mr-3 text-red-500"></i>
                        Cerrar Sesi√≥n
                      </button>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>

      <!-- end Navbar -->
      <!-- Descuentos -->
      <div class="descuentos-content main-content">
        <!-- Contenedor principal de descuentos -->
        <div class="pr-6 pt-6 pb-6 pl-0 bg-transparent rounded-2xl">
          <div class="mb-6 text-center mb-12">
            <h1 class="text-2xl font-bold mb-2 text-black">Descuentos Disponibles</h1>
            <p class="opacity-80 text-black">Aprovecha estos descuentos exclusivos para empleados de Cl√∫ster</p>
          </div>

          <!-- Contenedor de animaci√≥n horizontal -->
          <div class="discount-container relative w-full overflow-hidden" style="height: 400px;">
            <canvas id="discountParticleCanvas"
              class="absolute top-0 left-0 w-full h-full z-0 pointer-events-none"></canvas>

            <!-- Stream de tarjetas -->
            <div class="discount-stream absolute w-full h-full flex items-center" id="discountStream">
              <div class="discount-line flex items-center gap-8" id="discountLine">
                <!-- Los descuentos se cargar√°n din√°micamente desde la base de datos -->
              </div>
            </div>
          </div>

          <!-- Secci√≥n de informaci√≥n adicional -->
          <div class="mt-8 porsche-card descuentos-info-card rounded-lg shadow-md p-6">
            <div class="flex items-center mb-4">
              <i class="fas fa-info-circle text-cl√∫ster-red text-2xl mr-3"></i>
              <h2 class="text-xl font-semibold text-gray-800">Informaci√≥n Importante</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <h3 class="font-medium text-gray-700 mb-2">T√©rminos y Condiciones:</h3>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li>‚Ä¢ Los descuentos son exclusivos para miembros-socios activos de Cl√∫ster</li>
                  <li>‚Ä¢ Debes presentar tu credencial vigente</li>
                  <li>‚Ä¢ No se pueden combinar con otras promociones</li>
                  <li>‚Ä¢ Los descuentos pueden estar sujetos a cambios</li>
                </ul>
              </div>
              <div>
                <h3 class="font-medium text-gray-700 mb-2">¬øNecesitas ayuda?</h3>
                <p class="text-sm text-gray-600 mb-2">Si tienes problemas para aplicar alg√∫n descuento,
                  contacta al departamento de Recursos Humanos:</p>
                <div class="flex items-center text-sm text-cl√∫ster-red">
                  <i class="fas fa-envelope mr-2"></i>
                  <span>atencion@clautedomex.mx</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <footer class="pt-4">
        <div class="w-full px-6 mx-auto">
          <div class="flex flex-wrap items-center -mx-3 lg:justify-between">
            <div class="w-full max-w-full px-3 mt-0 mb-6 shrink-0 lg:mb-0 lg:w-1/2 lg:flex-none">
              <div class="text-sm leading-normal text-center text-slate-500 lg:text-left">
                ¬© 2025, Todos Los Derechos Reservados <i class=""></i>
                <a href="" class="font-semibold text-slate-700 dark:text-white" target="_blank">Cl√∫ster</a>
              </div>
            </div>
            <div class="w-full max-w-full px-3 mt-0 shrink-0 lg:w-1/2 lg:flex-none">
              <ul class="flex flex-wrap justify-center pl-0 mb-0 list-none lg:justify-end">
                <li class="nav-item">
                  <a href=""
                    class="block px-4 pt-0 pb-1 text-sm font-normal transition-colors ease-in-out text-slate-500"
                    target="_blank">Cl√∫ster Metropolitano</a>
                </li>
                <li class="nav-item">
                  <a href=""
                    class="block px-4 pt-0 pb-1 text-sm font-normal transition-colors ease-in-out text-slate-500"
                    target="_blank">Nosotros</a>
                </li>

              </ul>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <!-- end cards -->
    </div>


    <!-- Overlay de restricci√≥n que aparece cuando no hay autenticaci√≥n -->
    <div id="restrictedOverlay" class="restricted-overlay hidden">
      <div class="restricted-message">
        <div class="mb-4">
          <i class="fas fa-lock text-4xl text-gray-500 mb-3"></i>
          <h3 class="text-lg font-semibold text-gray-800 mb-2">Acceso Restringido</h3>
          <p class="text-sm text-gray-600 mb-4">
            Debes iniciar sesi√≥n para acceder a este contenido
          </p>
          <button onclick="window.location.href='./pages/sign-in.html'"
            class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">
            Iniciar Sesi√≥n
          </button>
        </div>
      </div>
    </div>
  </main>
  <!-- Message Center and User Management Scripts -->
  <script>

    // User Menu Functionality
    function toggleUserMenu() {
      const dropdown = document.getElementById('userDropdown');
      dropdown.classList.toggle('hidden');
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function (event) {
      const userMenu = document.getElementById('userMenuBtn');
      const dropdown = document.getElementById('userDropdown');

      if (!userMenu.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.classList.add('hidden');
      }
    });

    // Logout functionality
    function handleLogout() {
      if (confirm('¬øEst√°s seguro de que deseas cerrar sesi√≥n?')) {
        // Clear user data
        localStorage.removeItem('userData');
        localStorage.removeItem('currentUser');
        sessionStorage.clear();

        // Redirect to login page
        window.location.href = './index.php';
      }
    }

    // Update user display info when user data is available
    function updateUserDisplay(userData) {
      const userDisplayName = document.getElementById('userDisplayName');
      const dropdownUserName = document.getElementById('dropdownUserName');
      const dropdownUserRole = document.getElementById('dropdownUserRole');

      const nombre = userData.nombre || userData.name || 'Usuario';
      const rol = userData.rol || userData.role || 'Empleado';

      if (userDisplayName) userDisplayName.textContent = nombre;
      if (dropdownUserName) dropdownUserName.textContent = nombre;
      if (dropdownUserRole) dropdownUserRole.textContent = rol;
    }

    // User session detection functionality
    function detectUserSession() {
      console.log('üîç Iniciando detecci√≥n de sesi√≥n...');

      // Check multiple session sources
      const sessionSources = [
        localStorage.getItem('userData'),
        localStorage.getItem('currentUser'),
        sessionStorage.getItem('userSession'),
        localStorage.getItem('userInfo'),
        sessionStorage.getItem('loginData')
      ];

      // Find valid data in any source
      let userData = null;
      for (const source of sessionSources) {
        if (source) {
          try {
            userData = JSON.parse(source);
            if (userData && (userData.nombre || userData.name || userData.email)) {
              console.log('üë§ Usuario detectado desde storage:', userData);
              break;
            }
          } catch (e) {
            // If not JSON, could be simple string
            if (source.length > 0) {
              userData = { nombre: source };
              console.log('üë§ Usuario detectado como string:', source);
              break;
            }
          }
        }
      }

      if (userData) {
        updateUserDisplay(userData);
        console.log('‚úÖ Usuario autenticado correctamente');
      } else {
        console.log('‚ÑπÔ∏è No hay sesi√≥n de usuario detectada');
      }
    }

    // Initialize user session detection on page load
    document.addEventListener('DOMContentLoaded', function () {
      setTimeout(detectUserSession, 500);
    });
  </script>

  <!-- Sistema de Seguridad de Sesi√≥n -->
  <script src="./js/session-security.js"></script>
  <script>
    // Inicializar seguridad de sesi√≥n despu√©s de que todo est√© cargado
    document.addEventListener('DOMContentLoaded', function () {
      setTimeout(() => {
        window.enableSessionSecurity();
      }, 1000);
    });
  </script>

</body>
<!-- plugin for charts  -->
<script src="./assets/js/plugins/chartjs.min.js" async></script>
<!-- plugin for scrollbar  -->
<script src="./assets/js/plugins/perfect-scrollbar.min.js" async></script>
<!-- main script file  -->
<script src="./assets/js/argon-dashboard-tailwind.js?v=1.0.1" async></script>
<!-- descuentos frontend script -->
<script src="./js/descuentos-frontend.js"></script>

<!-- SISTEMA DE AUTENTICACI√ìN -->
<script>
  /**
   * Sistema de autenticaci√≥n simple basado en lo que funciona en dashboard.html
   */

  // DETECCI√ìN DE SESI√ìN Y USUARIO LOGGEADO (copiado de dashboard.html)
  function detectUserSession() {
    console.log('üîç Iniciando detecci√≥n de sesi√≥n...');

    // Verificar m√∫ltiples fuentes de datos de sesi√≥n
    const sessionSources = [
      localStorage.getItem('userData'),
      localStorage.getItem('currentUser'),
      sessionStorage.getItem('userSession'),
      localStorage.getItem('userInfo'),
      sessionStorage.getItem('loginData')
    ];

    // Buscar datos v√°lidos en alguna fuente
    let userData = null;
    for (const source of sessionSources) {
      if (source) {
        try {
          userData = JSON.parse(source);
          if (userData && (userData.nombre || userData.name || userData.email)) {
            console.log('üë§ Usuario detectado desde storage:', userData);
            break;
          }
        } catch (e) {
          // Si no es JSON, podr√≠a ser string simple
          if (source.length > 0) {
            userData = { nombre: source };
            console.log('üë§ Usuario detectado como string:', source);
            break;
          }
        }
      }
    }

    if (userData) {
      displayUserInfo(userData);
      console.log('‚úÖ Usuario autenticado correctamente');
      return userData;
    } else {
      console.log('‚ÑπÔ∏è No hay sesi√≥n de usuario detectada');
      showLoginPrompt();
      return null;
    }
  }

  // Funci√≥n displayUserInfo completa (copiada de dashboard.html)
  function displayUserInfo(userData) {
    console.log('üìä Mostrando informaci√≥n del usuario:', userData);

    // Establecer usuario globalmente
    window.currentUser = userData;

    // Extraer datos del usuario
    const nombre = userData.nombre || userData.name || userData.email || 'Usuario';
    const apellido = userData.apellido || userData.lastname || '';
    const nombreCompleto = apellido ? `${nombre} ${apellido}` : nombre;
    const empresa = userData.nombre_empresa || userData.empresa || 'Sin empresa';
    const email = userData.email || '';

    // Actualizar elementos del navbar
    const userDisplayName = document.getElementById('userDisplayName');
    const dropdownUserName = document.getElementById('dropdownUserName');
    const dropdownUserRole = document.getElementById('dropdownUserRole');

    if (userDisplayName) userDisplayName.textContent = nombreCompleto;
    if (dropdownUserName) dropdownUserName.textContent = nombreCompleto;
    if (dropdownUserRole) dropdownUserRole.textContent = empresa;

    // Mostrar elementos autenticados y ocultar login
    showAuthenticatedElements();

    console.log('‚úÖ Interfaz actualizada para usuario autenticado');
  }

  function showAuthenticatedElements() {
    // Elementos de usuario autenticado
    const userMenuBtn = document.getElementById('userMenuBtn');
    const profileMenuItem = document.getElementById('profileMenuItem');
    const logoutMenuItem = document.getElementById('logoutMenuItem');

    // Elementos de login
    const loginNavItem = document.getElementById('loginNavItem');
    const signupNavItem = document.getElementById('signupNavItem');

    // Mostrar elementos autenticados
    if (userMenuBtn) userMenuBtn.style.display = 'flex';
    if (profileMenuItem) profileMenuItem.classList.remove('hidden');
    if (logoutMenuItem) logoutMenuItem.classList.remove('hidden');

    // Ocultar elementos de login
    if (loginNavItem) loginNavItem.classList.add('hidden');
    if (signupNavItem) signupNavItem.classList.add('hidden');
  }

  /**
   * Mostrar formulario de login
   */
  function showLoginPrompt() {
    // Elementos de usuario autenticado
    const userMenuBtn = document.getElementById('userMenuBtn');
    const profileMenuItem = document.getElementById('profileMenuItem');
    const logoutMenuItem = document.getElementById('logoutMenuItem');

    // Elementos de login
    const loginNavItem = document.getElementById('loginNavItem');
    const signupNavItem = document.getElementById('signupNavItem');

    // Ocultar elementos autenticados
    if (userMenuBtn) userMenuBtn.style.display = 'none';
    if (profileMenuItem) profileMenuItem.classList.add('hidden');
    if (logoutMenuItem) logoutMenuItem.classList.add('hidden');

    // Mostrar elementos de login
    if (loginNavItem) loginNavItem.classList.remove('hidden');
    if (signupNavItem) signupNavItem.classList.remove('hidden');
  }

  // Ejecutar detecci√≥n de sesi√≥n al cargar (como en dashboard.html)
  setTimeout(detectUserSession, 300);

</script>


<script src="./js/auth-session.js"></script>
<script>
  // Configurar eventos para los botones de logout
  document.addEventListener('DOMContentLoaded', function () {
    // Bot√≥n de logout del sidebar
    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) {
      logoutBtn.addEventListener('click', function () {
        if (window.authSessionManager) {
          window.authSessionManager.logout();
        } else if (window.logout) {
          window.logout();
        } else {
          // Fallback manual


          window.location.href = './pages/sign-in.html';
        }
      });
    }

  });
</script>

<script>
  // ========== NAVIGATION JAVASCRIPT FROM DASHBOARD ==========

  // Enhanced Header Scroll Behavior
  document.addEventListener('DOMContentLoaded', function () {
    let lastScrollY = window.scrollY;
    let ticking = false;

    function updateHeaderState() {
      const header = document.querySelector('.claut-header');
      const currentScrollY = window.scrollY;

      // Add scrolled class for enhanced styling
      if (currentScrollY > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }

      // Keep header always visible and fixed at top
      header.style.transform = 'translateY(0)';
      header.style.position = 'fixed';
      header.style.top = '0';

      lastScrollY = currentScrollY;
      ticking = false;
    }

    function onScroll() {
      if (!ticking) {
        requestAnimationFrame(updateHeaderState);
        ticking = true;
      }
    }

    window.addEventListener('scroll', onScroll, { passive: true });

    // Setup mobile menu toggle
    function setupMobileMenu() {
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const headerNav = document.querySelector('.claut-header-nav');

      if (mobileMenuBtn && headerNav) {
        mobileMenuBtn.addEventListener('click', function () {
          headerNav.classList.toggle('show');
        });

        // Close menu when clicking outside
        document.addEventListener('click', function (e) {
          if (!mobileMenuBtn.contains(e.target) && !headerNav.contains(e.target)) {
            headerNav.classList.remove('show');
          }
        });
      }
    }

    setupMobileMenu();
  });

  // JavaScript para el men√∫ curvo animado
  document.addEventListener('DOMContentLoaded', function () {
    const bottomNavLinks = document.querySelectorAll('.claut-bottom-nav .claut-nav-link');
    const headerNavLinks = document.querySelectorAll('.claut-header-nav .claut-nav-item');
    const navCurve = document.querySelector('.claut-nav-curve');

    function setActiveNav(activeLink) {
      // Remover clase active de todos los enlaces del bottom nav
      bottomNavLinks.forEach(link => link.classList.remove('active'));

      // Agregar clase active al enlace clickeado
      activeLink.classList.add('active');

      // Posicionar la curva
      if (navCurve) {
        const linkIndex = Array.from(bottomNavLinks).indexOf(activeLink);
        const container = activeLink.closest('.claut-nav-container');
        const containerWidth = container.offsetWidth;
        const linkWidth = activeLink.offsetWidth;
        const leftOffset = (containerWidth / bottomNavLinks.length) * linkIndex + (linkWidth / 2);
        navCurve.style.left = leftOffset + 'px';
      }
    }

    // Event listeners para bottom nav
    bottomNavLinks.forEach((link, index) => {
      link.addEventListener('click', function (e) {
        e.preventDefault();

        // Solo hacer la animaci√≥n, no navegar
        setActiveNav(link);

        // Navegar despu√©s de un peque√±o delay para mostrar la animaci√≥n
        setTimeout(() => {
          window.location.href = link.href;
        }, 150);
      });

      // Touch feedback para m√≥viles
      link.addEventListener('touchstart', function () {
        link.style.transform = 'translateY(-12px) scale(0.95)';
      }, { passive: true });

      link.addEventListener('touchend', function () {
        setTimeout(() => {
          if (!link.classList.contains('active')) {
            link.style.transform = '';
          }
        }, 150);
      }, { passive: true });
    });

    // Event listeners para header nav
    headerNavLinks.forEach(link => {
      link.addEventListener('click', function (e) {
        // Remover active de todos
        headerNavLinks.forEach(item => item.classList.remove('active'));

        // Agregar active al clickeado
        link.classList.add('active');
      });
    });

    // Sincronizar navegaci√≥n entre header y bottom nav
    function syncNavigation() {
      const currentPage = window.location.pathname.split('/').pop() || 'dashboard.html';

      // Remover todas las clases active
      bottomNavLinks.forEach(link => link.classList.remove('active'));
      headerNavLinks.forEach(link => link.classList.remove('active'));

      // Determinar cual debe estar activo basado en la p√°gina actual
      let activeBottomLink = null;
      let activeHeaderLink = null;

      if (currentPage.includes('dashboard')) {
        activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="inicio"]');
        activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="dashboard"]');
      } else if (currentPage.includes('descuentos')) {
        activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="descuentos"]');
        activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="descuentos"]');
      } else if (currentPage.includes('boletines')) {
        activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="boletines"]');
        activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="boletines"]');
      } else if (currentPage.includes('comite')) {
        activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="comite"]');
        activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="comite"]');
      } else if (currentPage.includes('contacto')) {
        activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="contacto"]');
        activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="contacto"]');
      } else if (currentPage.includes('eventos')) {
        activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="eventos"]');
        activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="eventos"]');
      } else if (currentPage.includes('convenio')) {
        activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="convenios"]');
        activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="convenio"]');
      } else if (currentPage.includes('admin-panel')) {
        activeBottomLink = document.querySelector('.claut-bottom-nav .claut-nav-link[data-section="admin"]');
        activeHeaderLink = document.querySelector('.claut-header-nav .claut-nav-item[href*="admin-panel"]');
      }

      // Activar los enlaces correspondientes
      if (activeBottomLink) {
        activeBottomLink.classList.add('active');
        setActiveNav(activeBottomLink);
      }
      if (activeHeaderLink) {
        activeHeaderLink.classList.add('active');
      }
    }

    // Inicializar navegaci√≥n sincronizada
    syncNavigation();

    // Animaciones de entrada solo si GSAP est√° disponible
    if (typeof gsap !== 'undefined') {
      // Animaci√≥n de entrada del men√∫
      gsap.fromTo('.claut-bottom-nav', {
        y: 100,
        opacity: 0
      }, {
        y: 0,
        opacity: 1,
        duration: 0.8,
        ease: "back.out(1.7)",
        delay: 0.5
      });

      // Animaci√≥n escalonada de los iconos
      gsap.fromTo('.claut-bottom-nav .claut-nav-link i', {
        scale: 0,
        rotation: -180
      }, {
        scale: 1,
        rotation: 0,
        duration: 0.6,
        ease: "back.out(2.5)",
        stagger: 0.1,
        delay: 1
      });
    }
  });
</script>

<!-- Men√∫ curvo animado en la parte inferior -->
<nav class="claut-bottom-nav">
  <div class="claut-nav-container">
    <div class="claut-nav-curve"></div>

    <a href="dashboard.html" class="claut-nav-link authenticated" data-section="inicio">
      <i class="fas fa-home"></i>
      <span>Inicio</span>
    </a>

    <a href="./descuentos.html" class="claut-nav-link authenticated active" data-section="descuentos">
      <i class="fas fa-tags"></i>
      <span>Descuentos</span>
    </a>

    <a href="./boletines.html" class="claut-nav-link authenticated" data-section="boletines">
      <i class="fas fa-newspaper"></i>
      <span>Boletines</span>
    </a>

    <a href="./comites.html" class="claut-nav-link authenticated" data-section="comite">
      <i class="fas fa-users"></i>
      <span>Comit√©</span>
    </a>

    <a href="./contacto.html" class="claut-nav-link authenticated" data-section="contacto">
      <i class="fas fa-headset"></i>
      <span>Contacto</span>
    </a>

    <a href="./eventos.html" class="claut-nav-link authenticated" data-section="eventos">
      <i class="fas fa-calendar-alt"></i>
      <span>Eventos</span>
    </a>

    <a href="./empresas-convenio.html" class="claut-nav-link authenticated" data-section="convenios">
      <i class="fas fa-handshake"></i>
      <span>Convenios</span>
    </a>
  </div>
</nav>

</body>

</html>